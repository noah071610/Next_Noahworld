{"ast":null,"code":"import _slicedToArray from \"C:/Users/Noah/Desktop/Project/Noahworld/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _styled from \"@emotion/styled/base\";\n\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__() { return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\"; }\n\n/* eslint-disable jsx-a11y/anchor-has-content */\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport { message } from \"antd\";\nimport React, { useCallback, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { ADD_SUB_COMMENT_REQUEST } from \"../../../@reducers/post\";\nimport useInput from \"../../../util/useInput\";\nimport { jsx as ___EmotionJSX } from \"@emotion/react\";\n\nvar CommentFormWrapper = _styled(\"div\", true ? {\n  target: \"e9hyjwt0\"\n} : {\n  target: \"e9hyjwt0\",\n  label: \"CommentFormWrapper\"\n})(true ? {\n  name: \"16dmx32\",\n  styles: \"width:100%;position:relative;display:flex;transition:all 0.3s;padding:1rem 0.5rem 1rem 2rem;button{width:20%;}img{width:2rem;height:2rem;border-radius:50%;margin:0 1rem;}div{width:100%;display:flex;}@media only screen and (max-width: 576px){padding-left:0.5rem;padding-right:0;button{width:30%;}}\"\n} : {\n  name: \"16dmx32\",\n  styles: \"width:100%;position:relative;display:flex;transition:all 0.3s;padding:1rem 0.5rem 1rem 2rem;button{width:20%;}img{width:2rem;height:2rem;border-radius:50%;margin:0 1rem;}div{width:100%;display:flex;}@media only screen and (max-width: 576px){padding-left:0.5rem;padding-right:0;button{width:30%;}}\",\n  map: \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTm9haFxcRGVza3RvcFxcUHJvamVjdFxcTm9haHdvcmxkXFxjbGllbnRcXGNvbXBvbmVudHNcXEJsb2dcXENvbW1lbnRzXFxTdWJDb21tZW50Rm9ybS50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBV3FDIiwiZmlsZSI6IkM6XFxVc2Vyc1xcTm9haFxcRGVza3RvcFxcUHJvamVjdFxcTm9haHdvcmxkXFxjbGllbnRcXGNvbXBvbmVudHNcXEJsb2dcXENvbW1lbnRzXFxTdWJDb21tZW50Rm9ybS50c3giLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBqc3gtYTExeS9hbmNob3ItaGFzLWNvbnRlbnQgKi9cclxuLyogZXNsaW50LWRpc2FibGUganN4LWExMXkvYW5jaG9yLWlzLXZhbGlkICovXHJcbmltcG9ydCB7IG1lc3NhZ2UgfSBmcm9tIFwiYW50ZFwiO1xyXG5pbXBvcnQgUmVhY3QsIHsgRkMsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgdXNlRGlzcGF0Y2gsIHVzZVNlbGVjdG9yIH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XHJcbmltcG9ydCBzdHlsZWQgZnJvbSBcIkBlbW90aW9uL3N0eWxlZFwiO1xyXG5pbXBvcnQgeyBSb290U3RhdGUgfSBmcm9tIFwiLi4vLi4vLi4vQHJlZHVjZXJzXCI7XHJcbmltcG9ydCB7IEFERF9TVUJfQ09NTUVOVF9SRVFVRVNUIH0gZnJvbSBcIi4uLy4uLy4uL0ByZWR1Y2Vycy9wb3N0XCI7XHJcbmltcG9ydCB7IFN1YkNvbW1lbnRQcm9wcyB9IGZyb20gXCIuLi8uLi8uLi90eXBlc1wiO1xyXG5pbXBvcnQgdXNlSW5wdXQgZnJvbSBcIi4uLy4uLy4uL3V0aWwvdXNlSW5wdXRcIjtcclxuXHJcbmNvbnN0IENvbW1lbnRGb3JtV3JhcHBlciA9IHN0eWxlZC5kaXZgXHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3M7XHJcbiAgcGFkZGluZzogMXJlbSAwLjVyZW0gMXJlbSAycmVtO1xyXG4gIGJ1dHRvbiB7XHJcbiAgICB3aWR0aDogMjAlO1xyXG4gIH1cclxuICBpbWcge1xyXG4gICAgd2lkdGg6IDJyZW07XHJcbiAgICBoZWlnaHQ6IDJyZW07XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICBtYXJnaW46IDAgMXJlbTtcclxuICB9XHJcbiAgZGl2IHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICB9XHJcbiAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA1NzZweCkge1xyXG4gICAgcGFkZGluZy1sZWZ0OiAwLjVyZW07XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAwO1xyXG4gICAgYnV0dG9uIHtcclxuICAgICAgd2lkdGg6IDMwJTtcclxuICAgIH1cclxuICB9XHJcbmA7XHJcblxyXG5jb25zdCBTdWJDb21tZW50Rm9ybTogRkM8U3ViQ29tbWVudFByb3BzPiA9ICh7IENvbW1lbnRJZCB9KSA9PiB7XHJcbiAgY29uc3QgeyB1c2VyIH0gPSB1c2VTZWxlY3Rvcigoc3RhdGU6IFJvb3RTdGF0ZSkgPT4gc3RhdGUudXNlcik7XHJcbiAgY29uc3QgeyBwb3N0IH0gPSB1c2VTZWxlY3Rvcigoc3RhdGU6IFJvb3RTdGF0ZSkgPT4gc3RhdGUucG9zdCk7XHJcbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xyXG4gIGNvbnN0IFtjb250ZW50LCBvbkNoYW5nZUNvbnRlbnQsIHNldENvbnRlbnRdID0gdXNlSW5wdXQoXCJcIik7XHJcbiAgY29uc3Qgb25DbGlja0FkZENvbW1lbnQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBpZiAoY29udGVudCA9PT0gXCJcIikge1xyXG4gICAgICBtZXNzYWdlLmVycm9yKFwiUGxlYXNlIHdyaXRlIGNvbnRlbnQuXCIpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgbWVzc2FnZS5lcnJvcihcIlBsZWFzZSBsb2dpbiBmaXJzdC5cIik7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGRpc3BhdGNoKHtcclxuICAgICAgdHlwZTogQUREX1NVQl9DT01NRU5UX1JFUVVFU1QsXHJcbiAgICAgIGRhdGE6IHsgUG9zdElkOiBwb3N0Py5pZCwgY29udGVudCwgQ29tbWVudElkLCBVc2VySWQ6IHVzZXIuaWQgfSxcclxuICAgIH0pO1xyXG4gICAgc2V0Q29udGVudChcIlwiKTtcclxuICB9LCBbQ29tbWVudElkLCBjb250ZW50LCBkaXNwYXRjaCwgcG9zdD8uaWQsIHNldENvbnRlbnQsIHVzZXJdKTtcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgIHNldENvbnRlbnQoXCJZb3UgY2FuIGNvbW1lbnQgd2hlbiB5b3UgYXJlIGxvZ2dlZCBpbiFcIik7XHJcbiAgICB9XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCBoYW5kbGVJbWdFcnJvciA9IChlOiBSZWFjdC5TeW50aGV0aWNFdmVudCkgPT4ge1xyXG4gICAgKGUudGFyZ2V0IGFzIEhUTUxJbWFnZUVsZW1lbnQpLnNyYyA9IGAvaW1hZ2VzL2Jsb2cvZGVmYXVsdC11c2VyLnBuZ2A7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDw+XHJcbiAgICAgIDxDb21tZW50Rm9ybVdyYXBwZXIgY2xhc3NOYW1lPVwiYmxvZ19wb3N0X2NvbW1lbnRcIj5cclxuICAgICAgICA8aW1nXHJcbiAgICAgICAgICBzcmM9e1xyXG4gICAgICAgICAgICB1c2VyPy5pY29uXHJcbiAgICAgICAgICAgICAgPyB1c2VyLmljb24ucmVwbGFjZSgvXFwvdGh1bWJcXC8vLCBcIi9vcmlnaW5hbC9cIilcclxuICAgICAgICAgICAgICA6IFwiL2ltYWdlcy9ibG9nL2RlZmF1bHQtdXNlci5wbmdcIlxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYWx0PVwicHJvZmlsZVwiXHJcbiAgICAgICAgICBvbkVycm9yPXtoYW5kbGVJbWdFcnJvcn1cclxuICAgICAgICAvPlxyXG4gICAgICAgIDxkaXY+XHJcbiAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicHVibGljX2lucHV0XCJcclxuICAgICAgICAgICAgdmFsdWU9e2NvbnRlbnR9XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZUNvbnRlbnR9XHJcbiAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICBmbG9hdDogXCJyaWdodFwiLFxyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICBvbkNsaWNrPXtvbkNsaWNrQWRkQ29tbWVudH1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicHVibGljX2J0blwiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIFJFUExZXHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9Db21tZW50Rm9ybVdyYXBwZXI+XHJcbiAgICA8Lz5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgU3ViQ29tbWVudEZvcm07XHJcbiJdfQ== */\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n});\n\nvar SubCommentForm = function SubCommentForm(_ref) {\n  var CommentId = _ref.CommentId;\n\n  var _useSelector = useSelector(function (state) {\n    return state.user;\n  }),\n      user = _useSelector.user;\n\n  var _useSelector2 = useSelector(function (state) {\n    return state.post;\n  }),\n      post = _useSelector2.post;\n\n  var dispatch = useDispatch();\n\n  var _useInput = useInput(\"\"),\n      _useInput2 = _slicedToArray(_useInput, 3),\n      content = _useInput2[0],\n      onChangeContent = _useInput2[1],\n      setContent = _useInput2[2];\n\n  var onClickAddComment = useCallback(function () {\n    if (content === \"\") {\n      message.error(\"Please write content.\");\n      return;\n    }\n\n    if (!user) {\n      message.error(\"Please login first.\");\n      return;\n    }\n\n    dispatch({\n      type: ADD_SUB_COMMENT_REQUEST,\n      data: {\n        PostId: post === null || post === void 0 ? void 0 : post.id,\n        content: content,\n        CommentId: CommentId,\n        UserId: user.id\n      }\n    });\n    setContent(\"\");\n  }, [CommentId, content, dispatch, post === null || post === void 0 ? void 0 : post.id, setContent, user]);\n  useEffect(function () {\n    if (!user) {\n      setContent(\"You can comment when you are logged in!\");\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []);\n\n  var handleImgError = function handleImgError(e) {\n    e.target.src = \"/images/blog/default-user.png\";\n  };\n\n  return ___EmotionJSX(React.Fragment, null, ___EmotionJSX(CommentFormWrapper, {\n    className: \"blog_post_comment\"\n  }, ___EmotionJSX(\"img\", {\n    src: user !== null && user !== void 0 && user.icon ? user.icon.replace(/\\/thumb\\//, \"/original/\") : \"/images/blog/default-user.png\",\n    alt: \"profile\",\n    onError: handleImgError\n  }), ___EmotionJSX(\"div\", null, ___EmotionJSX(\"input\", {\n    className: \"public_input\",\n    value: content,\n    onChange: onChangeContent,\n    style: {\n      width: \"100%\"\n    }\n  }), ___EmotionJSX(\"button\", {\n    style: {\n      \"float\": \"right\"\n    },\n    onClick: onClickAddComment,\n    className: \"public_btn\"\n  }, \"REPLY\"))));\n};\n\nexport default SubCommentForm;","map":{"version":3,"sources":["C:/Users/Noah/Desktop/Project/Noahworld/client/components/Blog/Comments/SubCommentForm.tsx"],"names":["message","React","useCallback","useEffect","useDispatch","useSelector","ADD_SUB_COMMENT_REQUEST","useInput","CommentFormWrapper","SubCommentForm","CommentId","state","user","post","dispatch","content","onChangeContent","setContent","onClickAddComment","error","type","data","PostId","id","UserId","handleImgError","e","target","src","icon","replace","width"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/anchor-has-content */\r\n/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport { message } from \"antd\";\r\nimport React, { FC, useCallback, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport styled from \"@emotion/styled\";\r\nimport { RootState } from \"../../../@reducers\";\r\nimport { ADD_SUB_COMMENT_REQUEST } from \"../../../@reducers/post\";\r\nimport { SubCommentProps } from \"../../../types\";\r\nimport useInput from \"../../../util/useInput\";\r\n\r\nconst CommentFormWrapper = styled.div`\r\n  width: 100%;\r\n  position: relative;\r\n  display: flex;\r\n  transition: all 0.3s;\r\n  padding: 1rem 0.5rem 1rem 2rem;\r\n  button {\r\n    width: 20%;\r\n  }\r\n  img {\r\n    width: 2rem;\r\n    height: 2rem;\r\n    border-radius: 50%;\r\n    margin: 0 1rem;\r\n  }\r\n  div {\r\n    width: 100%;\r\n    display: flex;\r\n  }\r\n  @media only screen and (max-width: 576px) {\r\n    padding-left: 0.5rem;\r\n    padding-right: 0;\r\n    button {\r\n      width: 30%;\r\n    }\r\n  }\r\n`;\r\n\r\nconst SubCommentForm: FC<SubCommentProps> = ({ CommentId }) => {\r\n  const { user } = useSelector((state: RootState) => state.user);\r\n  const { post } = useSelector((state: RootState) => state.post);\r\n  const dispatch = useDispatch();\r\n  const [content, onChangeContent, setContent] = useInput(\"\");\r\n  const onClickAddComment = useCallback(() => {\r\n    if (content === \"\") {\r\n      message.error(\"Please write content.\");\r\n      return;\r\n    }\r\n    if (!user) {\r\n      message.error(\"Please login first.\");\r\n      return;\r\n    }\r\n    dispatch({\r\n      type: ADD_SUB_COMMENT_REQUEST,\r\n      data: { PostId: post?.id, content, CommentId, UserId: user.id },\r\n    });\r\n    setContent(\"\");\r\n  }, [CommentId, content, dispatch, post?.id, setContent, user]);\r\n  useEffect(() => {\r\n    if (!user) {\r\n      setContent(\"You can comment when you are logged in!\");\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const handleImgError = (e: React.SyntheticEvent) => {\r\n    (e.target as HTMLImageElement).src = `/images/blog/default-user.png`;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <CommentFormWrapper className=\"blog_post_comment\">\r\n        <img\r\n          src={\r\n            user?.icon\r\n              ? user.icon.replace(/\\/thumb\\//, \"/original/\")\r\n              : \"/images/blog/default-user.png\"\r\n          }\r\n          alt=\"profile\"\r\n          onError={handleImgError}\r\n        />\r\n        <div>\r\n          <input\r\n            className=\"public_input\"\r\n            value={content}\r\n            onChange={onChangeContent}\r\n            style={{\r\n              width: \"100%\",\r\n            }}\r\n          />\r\n          <button\r\n            style={{\r\n              float: \"right\",\r\n            }}\r\n            onClick={onClickAddComment}\r\n            className=\"public_btn\"\r\n          >\r\n            REPLY\r\n          </button>\r\n        </div>\r\n      </CommentFormWrapper>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SubCommentForm;\r\n"]},"metadata":{},"sourceType":"module"}