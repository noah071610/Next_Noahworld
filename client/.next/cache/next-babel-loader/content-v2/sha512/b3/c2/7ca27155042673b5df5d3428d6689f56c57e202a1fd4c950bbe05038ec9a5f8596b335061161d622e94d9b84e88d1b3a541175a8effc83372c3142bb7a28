{"ast":null,"code":"import _styled from \"@emotion/styled/base\";\nvar _jsxFileName = \"C:\\\\Users\\\\Noah\\\\Desktop\\\\Project\\\\Noahworld\\\\client\\\\components\\\\Blog\\\\Comments\\\\Comments.tsx\";\n\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__() { return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\"; }\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport { message } from \"antd\";\nimport React, { memo, useCallback, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport dayjs from \"dayjs\";\nimport relativeTime from \"dayjs/plugin/relativeTime\";\nimport SubCommentForm from \"./SubCommentForm\";\nimport useInput from \"../../../util/useInput\";\nimport useToggle from \"../../../util/useToggle\";\nimport { REMOVE_COMMENT_REQUEST } from \"../../../@reducers/post\";\nimport CommentMenu from \"./CommentMenu\";\nimport SubCommentPreview from \"./SubCommentPreview\";\nimport { DeleteComment } from \"../../../styles/emotion\";\nimport CommentContent from \"./CommentContent\";\nimport { jsx as ___EmotionJSX } from \"@emotion/react\";\ndayjs.locale(\"kor\");\ndayjs.extend(relativeTime);\n\nconst CommentWrapper = _styled(\"div\", false ? {\n  target: \"e1g2paj81\"\n} : {\n  target: \"e1g2paj81\",\n  label: \"CommentWrapper\"\n})(false ? {\n  name: \"v9yiwj\",\n  styles: \"width:100%;position:relative;transition:all 0.2s;border-bottom:1px solid rgba(0, 0, 0, 0.07)\"\n} : {\n  name: \"v9yiwj\",\n  styles: \"width:100%;position:relative;transition:all 0.2s;border-bottom:1px solid rgba(0, 0, 0, 0.07)\",\n  map: \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTm9haFxcRGVza3RvcFxcUHJvamVjdFxcTm9haHdvcmxkXFxjbGllbnRcXGNvbXBvbmVudHNcXEJsb2dcXENvbW1lbnRzXFxDb21tZW50cy50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBcUJpQyIsImZpbGUiOiJDOlxcVXNlcnNcXE5vYWhcXERlc2t0b3BcXFByb2plY3RcXE5vYWh3b3JsZFxcY2xpZW50XFxjb21wb25lbnRzXFxCbG9nXFxDb21tZW50c1xcQ29tbWVudHMudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUganN4LWExMXkvYW5jaG9yLWlzLXZhbGlkICovXHJcblxyXG5pbXBvcnQgeyBJbnB1dCwgbWVzc2FnZSB9IGZyb20gXCJhbnRkXCI7XHJcbmltcG9ydCBSZWFjdCwgeyBGQywgbWVtbywgdXNlQ2FsbGJhY2ssIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IHVzZURpc3BhdGNoLCB1c2VTZWxlY3RvciB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xyXG5pbXBvcnQgc3R5bGVkIGZyb20gXCJAZW1vdGlvbi9zdHlsZWRcIjtcclxuaW1wb3J0IGRheWpzIGZyb20gXCJkYXlqc1wiO1xyXG5pbXBvcnQgcmVsYXRpdmVUaW1lIGZyb20gXCJkYXlqcy9wbHVnaW4vcmVsYXRpdmVUaW1lXCI7XHJcbmltcG9ydCBTdWJDb21tZW50Rm9ybSBmcm9tIFwiLi9TdWJDb21tZW50Rm9ybVwiO1xyXG5pbXBvcnQgeyBSb290U3RhdGUgfSBmcm9tIFwiLi4vLi4vLi4vQHJlZHVjZXJzXCI7XHJcbmltcG9ydCB1c2VJbnB1dCBmcm9tIFwiLi4vLi4vLi4vdXRpbC91c2VJbnB1dFwiO1xyXG5pbXBvcnQgdXNlVG9nZ2xlIGZyb20gXCIuLi8uLi8uLi91dGlsL3VzZVRvZ2dsZVwiO1xyXG5pbXBvcnQgeyBSRU1PVkVfQ09NTUVOVF9SRVFVRVNUIH0gZnJvbSBcIi4uLy4uLy4uL0ByZWR1Y2Vycy9wb3N0XCI7XHJcbmltcG9ydCB7IENvbW1lbnRQcm9wcyB9IGZyb20gXCIuLi8uLi8uLi90eXBlc1wiO1xyXG5pbXBvcnQgQ29tbWVudE1lbnUgZnJvbSBcIi4vQ29tbWVudE1lbnVcIjtcclxuaW1wb3J0IFN1YkNvbW1lbnRQcmV2aWV3IGZyb20gXCIuL1N1YkNvbW1lbnRQcmV2aWV3XCI7XHJcbmltcG9ydCB7IERlbGV0ZUNvbW1lbnQgfSBmcm9tIFwiLi4vLi4vLi4vc3R5bGVzL2Vtb3Rpb25cIjtcclxuaW1wb3J0IENvbW1lbnRDb250ZW50IGZyb20gXCIuL0NvbW1lbnRDb250ZW50XCI7XHJcbmRheWpzLmxvY2FsZShcImtvclwiKTtcclxuZGF5anMuZXh0ZW5kKHJlbGF0aXZlVGltZSk7XHJcblxyXG5jb25zdCBDb21tZW50V3JhcHBlciA9IHN0eWxlZC5kaXZgXHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIHRyYW5zaXRpb246IGFsbCAwLjJzO1xyXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMDcpO1xyXG5gO1xyXG5cclxuY29uc3QgTWFpbkNvbnRlbnRXcmFwcGVyID0gc3R5bGVkLmRpdmBcclxuICBwYWRkaW5nOiAxcmVtIDAuNXJlbSAwLjVyZW0gMnJlbTtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgJjpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMDUpO1xyXG4gIH1cclxuICAuZWRpdF9mb3JtIHtcclxuICAgIGJ1dHRvbiB7XHJcbiAgICAgIHdpZHRoOiAyMCU7XHJcbiAgICB9XHJcbiAgfVxyXG4gIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNTc2cHgpIHtcclxuICAgIHBhZGRpbmc6IDFyZW0gMC41cmVtIDAuNXJlbSAwLjVyZW07XHJcbiAgICAuZWRpdF9mb3JtIHtcclxuICAgICAgYnV0dG9uIHtcclxuICAgICAgICB3aWR0aDogNTAlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5gO1xyXG5cclxuY29uc3QgQ29tbWVudHM6IEZDPENvbW1lbnRQcm9wcz4gPSBtZW1vKCh7IGNvbW1lbnQgfSkgPT4ge1xyXG4gIGNvbnN0IHsgdXNlciB9ID0gdXNlU2VsZWN0b3IoKHN0YXRlOiBSb290U3RhdGUpID0+IHN0YXRlLnVzZXIpO1xyXG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcclxuICBjb25zdCBbcmVtb3ZlTW9kYWwsIHNldFJlbW92ZU1vZGFsXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbc3ViQ29tbWVudEZvcm0sIHNldFN1YkNvbW1lbnRGb3JtXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbbW9yZVN1YkNvbW1lbnRzLCBvbkNsaWNrTW9yZVN1YkNvbW1lbnRzLCBzZXRNb3JlU3ViQ29tbWVudHNdID0gdXNlVG9nZ2xlKGZhbHNlKTtcclxuICBjb25zdCBbZWRpdEZvcm0sIHNldEVkaXRGb3JtXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbZWRpdFRleHQsIG9uQ2hhbmdlRWRpdFRleHRdID0gdXNlSW5wdXQoY29tbWVudC5jb250ZW50KTtcclxuICBjb25zdCBDb21tZW50SWQgPSBjb21tZW50Py5pZDtcclxuXHJcbiAgY29uc3Qgb25DbGlja1JlbW92ZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGlmICghdXNlcikge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAodXNlci5pZCAhPT0gY29tbWVudC5Vc2VySWQpIHtcclxuICAgICAgbWVzc2FnZS5lcnJvcihcInlvdSBjYW4gbm90IGRlbGV0ZSBhbm90aGVyIHBlcnNvbiBjb21tZW50IVwiKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgZGlzcGF0Y2goe1xyXG4gICAgICB0eXBlOiBSRU1PVkVfQ09NTUVOVF9SRVFVRVNULFxyXG4gICAgICBkYXRhOiBDb21tZW50SWQsXHJcbiAgICB9KTtcclxuICAgIG1lc3NhZ2Uuc3VjY2VzcyhcIkNvbXBsZXRlbHkgRGVsZXRlZCBDb21tZW50XCIpO1xyXG4gICAgc2V0UmVtb3ZlTW9kYWwoZmFsc2UpO1xyXG4gIH0sIFtDb21tZW50SWQsIGNvbW1lbnQuVXNlcklkLCBkaXNwYXRjaCwgdXNlcl0pO1xyXG5cclxuICBjb25zdCBvbkNsaWNrQ29tbWVudCA9IHVzZUNhbGxiYWNrKFxyXG4gICAgKGUpID0+IHtcclxuICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTmFtZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBpZiAoY29tbWVudC5TdWJDb21tZW50cyAmJiBjb21tZW50LlN1YkNvbW1lbnRzLmxlbmd0aCA+PSAzKSB7XHJcbiAgICAgICAgc2V0TW9yZVN1YkNvbW1lbnRzKChwcmV2KSA9PiAhcHJldik7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKG1vcmVTdWJDb21tZW50cyAmJiAhc3ViQ29tbWVudEZvcm0pIHtcclxuICAgICAgICBzZXRNb3JlU3ViQ29tbWVudHModHJ1ZSk7XHJcbiAgICAgICAgc2V0U3ViQ29tbWVudEZvcm0odHJ1ZSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICghbW9yZVN1YkNvbW1lbnRzICYmIHN1YkNvbW1lbnRGb3JtKSB7XHJcbiAgICAgICAgc2V0TW9yZVN1YkNvbW1lbnRzKGZhbHNlKTtcclxuICAgICAgICBzZXRTdWJDb21tZW50Rm9ybShmYWxzZSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHNldFN1YkNvbW1lbnRGb3JtKChwcmV2KSA9PiAhcHJldik7XHJcbiAgICB9LFxyXG4gICAgW2NvbW1lbnQuU3ViQ29tbWVudHMsIG1vcmVTdWJDb21tZW50cywgc2V0TW9yZVN1YkNvbW1lbnRzLCBzdWJDb21tZW50Rm9ybV1cclxuICApO1xyXG5cclxuICBjb25zdCBoYW5kbGVJbWdFcnJvciA9IChlOiBSZWFjdC5TeW50aGV0aWNFdmVudCkgPT4ge1xyXG4gICAgKGUudGFyZ2V0IGFzIEhUTUxJbWFnZUVsZW1lbnQpLnNyYyA9IFwiL2ltYWdlcy9ibG9nL2RlZmF1bHQtdXNlci5wbmdcIjtcclxuICB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPD5cclxuICAgICAge2NvbW1lbnQuVXNlciAmJiAoXHJcbiAgICAgICAgPENvbW1lbnRXcmFwcGVyPlxyXG4gICAgICAgICAgPE1haW5Db250ZW50V3JhcHBlciBvbkNsaWNrPXtvbkNsaWNrQ29tbWVudH0+XHJcbiAgICAgICAgICAgIDxDb21tZW50Q29udGVudFxyXG4gICAgICAgICAgICAgIGNvbW1lbnQ9e2NvbW1lbnR9XHJcbiAgICAgICAgICAgICAgZWRpdFRleHQ9e2VkaXRUZXh0fVxyXG4gICAgICAgICAgICAgIGVkaXRGb3JtPXtlZGl0Rm9ybX1cclxuICAgICAgICAgICAgICBvbkNoYW5nZUVkaXRUZXh0PXtvbkNoYW5nZUVkaXRUZXh0fVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8Q29tbWVudE1lbnVcclxuICAgICAgICAgICAgICB1c2VyPXt1c2VyfVxyXG4gICAgICAgICAgICAgIENvbW1lbnRJZD17Q29tbWVudElkfVxyXG4gICAgICAgICAgICAgIGNvbW1lbnQ9e2NvbW1lbnR9XHJcbiAgICAgICAgICAgICAgZWRpdFRleHQ9e2VkaXRUZXh0fVxyXG4gICAgICAgICAgICAgIGVkaXRGb3JtPXtlZGl0Rm9ybX1cclxuICAgICAgICAgICAgICBzZXRFZGl0Rm9ybT17c2V0RWRpdEZvcm19XHJcbiAgICAgICAgICAgICAgc2V0UmVtb3ZlTW9kYWw9e3NldFJlbW92ZU1vZGFsfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgPC9NYWluQ29udGVudFdyYXBwZXI+XHJcbiAgICAgICAgICA8ZGl2IGNzcz17RGVsZXRlQ29tbWVudChyZW1vdmVNb2RhbCl9IGNsYXNzTmFtZT1cImJsb2dfY29tbWVudF9kZWxldGVNb2RhbFwiPlxyXG4gICAgICAgICAgICA8aDI+V291bGQgeW91IHJlYWxseSBsaWtlIHRvIGRlbGV0ZT8g8J+YojwvaDI+XHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgPGEgb25DbGljaz17b25DbGlja1JlbW92ZX0gY2xhc3NOYW1lPVwiY29uZmlybUJ0blwiPlxyXG4gICAgICAgICAgICAgICAgWUVTXHJcbiAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgIDxhIG9uQ2xpY2s9eygpID0+IHNldFJlbW92ZU1vZGFsKGZhbHNlKX0gY2xhc3NOYW1lPVwiY29uZmlybUJ0blwiPlxyXG4gICAgICAgICAgICAgICAgTk9cclxuICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICB7c3ViQ29tbWVudEZvcm0gJiYgPFN1YkNvbW1lbnRGb3JtIENvbW1lbnRJZD17Q29tbWVudElkfSAvPn1cclxuICAgICAgICAgIDxTdWJDb21tZW50UHJldmlld1xyXG4gICAgICAgICAgICBvbkNsaWNrTW9yZVN1YkNvbW1lbnRzPXtvbkNsaWNrTW9yZVN1YkNvbW1lbnRzfVxyXG4gICAgICAgICAgICBtb3JlU3ViQ29tbWVudHM9e21vcmVTdWJDb21tZW50c31cclxuICAgICAgICAgICAgY29tbWVudD17Y29tbWVudH1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgPC9Db21tZW50V3JhcHBlcj5cclxuICAgICAgKX1cclxuICAgIDwvPlxyXG4gICk7XHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgbWVtbyhDb21tZW50cyk7XHJcbiJdfQ== */\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n});\n\nconst MainContentWrapper = _styled(\"div\", false ? {\n  target: \"e1g2paj80\"\n} : {\n  target: \"e1g2paj80\",\n  label: \"MainContentWrapper\"\n})(false ? {\n  name: \"1wnmdfw\",\n  styles: \"padding:1rem 0.5rem 0.5rem 2rem;cursor:pointer;&:hover{background-color:rgba(0, 0, 0, 0.05);}.edit_form{button{width:20%;}}@media only screen and (max-width: 576px){padding:1rem 0.5rem 0.5rem 0.5rem;.edit_form{button{width:50%;}}}\"\n} : {\n  name: \"1wnmdfw\",\n  styles: \"padding:1rem 0.5rem 0.5rem 2rem;cursor:pointer;&:hover{background-color:rgba(0, 0, 0, 0.05);}.edit_form{button{width:20%;}}@media only screen and (max-width: 576px){padding:1rem 0.5rem 0.5rem 0.5rem;.edit_form{button{width:50%;}}}\",\n  map: \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTm9haFxcRGVza3RvcFxcUHJvamVjdFxcTm9haHdvcmxkXFxjbGllbnRcXGNvbXBvbmVudHNcXEJsb2dcXENvbW1lbnRzXFxDb21tZW50cy50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBNEJxQyIsImZpbGUiOiJDOlxcVXNlcnNcXE5vYWhcXERlc2t0b3BcXFByb2plY3RcXE5vYWh3b3JsZFxcY2xpZW50XFxjb21wb25lbnRzXFxCbG9nXFxDb21tZW50c1xcQ29tbWVudHMudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUganN4LWExMXkvYW5jaG9yLWlzLXZhbGlkICovXHJcblxyXG5pbXBvcnQgeyBJbnB1dCwgbWVzc2FnZSB9IGZyb20gXCJhbnRkXCI7XHJcbmltcG9ydCBSZWFjdCwgeyBGQywgbWVtbywgdXNlQ2FsbGJhY2ssIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IHVzZURpc3BhdGNoLCB1c2VTZWxlY3RvciB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xyXG5pbXBvcnQgc3R5bGVkIGZyb20gXCJAZW1vdGlvbi9zdHlsZWRcIjtcclxuaW1wb3J0IGRheWpzIGZyb20gXCJkYXlqc1wiO1xyXG5pbXBvcnQgcmVsYXRpdmVUaW1lIGZyb20gXCJkYXlqcy9wbHVnaW4vcmVsYXRpdmVUaW1lXCI7XHJcbmltcG9ydCBTdWJDb21tZW50Rm9ybSBmcm9tIFwiLi9TdWJDb21tZW50Rm9ybVwiO1xyXG5pbXBvcnQgeyBSb290U3RhdGUgfSBmcm9tIFwiLi4vLi4vLi4vQHJlZHVjZXJzXCI7XHJcbmltcG9ydCB1c2VJbnB1dCBmcm9tIFwiLi4vLi4vLi4vdXRpbC91c2VJbnB1dFwiO1xyXG5pbXBvcnQgdXNlVG9nZ2xlIGZyb20gXCIuLi8uLi8uLi91dGlsL3VzZVRvZ2dsZVwiO1xyXG5pbXBvcnQgeyBSRU1PVkVfQ09NTUVOVF9SRVFVRVNUIH0gZnJvbSBcIi4uLy4uLy4uL0ByZWR1Y2Vycy9wb3N0XCI7XHJcbmltcG9ydCB7IENvbW1lbnRQcm9wcyB9IGZyb20gXCIuLi8uLi8uLi90eXBlc1wiO1xyXG5pbXBvcnQgQ29tbWVudE1lbnUgZnJvbSBcIi4vQ29tbWVudE1lbnVcIjtcclxuaW1wb3J0IFN1YkNvbW1lbnRQcmV2aWV3IGZyb20gXCIuL1N1YkNvbW1lbnRQcmV2aWV3XCI7XHJcbmltcG9ydCB7IERlbGV0ZUNvbW1lbnQgfSBmcm9tIFwiLi4vLi4vLi4vc3R5bGVzL2Vtb3Rpb25cIjtcclxuaW1wb3J0IENvbW1lbnRDb250ZW50IGZyb20gXCIuL0NvbW1lbnRDb250ZW50XCI7XHJcbmRheWpzLmxvY2FsZShcImtvclwiKTtcclxuZGF5anMuZXh0ZW5kKHJlbGF0aXZlVGltZSk7XHJcblxyXG5jb25zdCBDb21tZW50V3JhcHBlciA9IHN0eWxlZC5kaXZgXHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIHRyYW5zaXRpb246IGFsbCAwLjJzO1xyXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMDcpO1xyXG5gO1xyXG5cclxuY29uc3QgTWFpbkNvbnRlbnRXcmFwcGVyID0gc3R5bGVkLmRpdmBcclxuICBwYWRkaW5nOiAxcmVtIDAuNXJlbSAwLjVyZW0gMnJlbTtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgJjpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMDUpO1xyXG4gIH1cclxuICAuZWRpdF9mb3JtIHtcclxuICAgIGJ1dHRvbiB7XHJcbiAgICAgIHdpZHRoOiAyMCU7XHJcbiAgICB9XHJcbiAgfVxyXG4gIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNTc2cHgpIHtcclxuICAgIHBhZGRpbmc6IDFyZW0gMC41cmVtIDAuNXJlbSAwLjVyZW07XHJcbiAgICAuZWRpdF9mb3JtIHtcclxuICAgICAgYnV0dG9uIHtcclxuICAgICAgICB3aWR0aDogNTAlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5gO1xyXG5cclxuY29uc3QgQ29tbWVudHM6IEZDPENvbW1lbnRQcm9wcz4gPSBtZW1vKCh7IGNvbW1lbnQgfSkgPT4ge1xyXG4gIGNvbnN0IHsgdXNlciB9ID0gdXNlU2VsZWN0b3IoKHN0YXRlOiBSb290U3RhdGUpID0+IHN0YXRlLnVzZXIpO1xyXG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcclxuICBjb25zdCBbcmVtb3ZlTW9kYWwsIHNldFJlbW92ZU1vZGFsXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbc3ViQ29tbWVudEZvcm0sIHNldFN1YkNvbW1lbnRGb3JtXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbbW9yZVN1YkNvbW1lbnRzLCBvbkNsaWNrTW9yZVN1YkNvbW1lbnRzLCBzZXRNb3JlU3ViQ29tbWVudHNdID0gdXNlVG9nZ2xlKGZhbHNlKTtcclxuICBjb25zdCBbZWRpdEZvcm0sIHNldEVkaXRGb3JtXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbZWRpdFRleHQsIG9uQ2hhbmdlRWRpdFRleHRdID0gdXNlSW5wdXQoY29tbWVudC5jb250ZW50KTtcclxuICBjb25zdCBDb21tZW50SWQgPSBjb21tZW50Py5pZDtcclxuXHJcbiAgY29uc3Qgb25DbGlja1JlbW92ZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGlmICghdXNlcikge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAodXNlci5pZCAhPT0gY29tbWVudC5Vc2VySWQpIHtcclxuICAgICAgbWVzc2FnZS5lcnJvcihcInlvdSBjYW4gbm90IGRlbGV0ZSBhbm90aGVyIHBlcnNvbiBjb21tZW50IVwiKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgZGlzcGF0Y2goe1xyXG4gICAgICB0eXBlOiBSRU1PVkVfQ09NTUVOVF9SRVFVRVNULFxyXG4gICAgICBkYXRhOiBDb21tZW50SWQsXHJcbiAgICB9KTtcclxuICAgIG1lc3NhZ2Uuc3VjY2VzcyhcIkNvbXBsZXRlbHkgRGVsZXRlZCBDb21tZW50XCIpO1xyXG4gICAgc2V0UmVtb3ZlTW9kYWwoZmFsc2UpO1xyXG4gIH0sIFtDb21tZW50SWQsIGNvbW1lbnQuVXNlcklkLCBkaXNwYXRjaCwgdXNlcl0pO1xyXG5cclxuICBjb25zdCBvbkNsaWNrQ29tbWVudCA9IHVzZUNhbGxiYWNrKFxyXG4gICAgKGUpID0+IHtcclxuICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTmFtZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBpZiAoY29tbWVudC5TdWJDb21tZW50cyAmJiBjb21tZW50LlN1YkNvbW1lbnRzLmxlbmd0aCA+PSAzKSB7XHJcbiAgICAgICAgc2V0TW9yZVN1YkNvbW1lbnRzKChwcmV2KSA9PiAhcHJldik7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKG1vcmVTdWJDb21tZW50cyAmJiAhc3ViQ29tbWVudEZvcm0pIHtcclxuICAgICAgICBzZXRNb3JlU3ViQ29tbWVudHModHJ1ZSk7XHJcbiAgICAgICAgc2V0U3ViQ29tbWVudEZvcm0odHJ1ZSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICghbW9yZVN1YkNvbW1lbnRzICYmIHN1YkNvbW1lbnRGb3JtKSB7XHJcbiAgICAgICAgc2V0TW9yZVN1YkNvbW1lbnRzKGZhbHNlKTtcclxuICAgICAgICBzZXRTdWJDb21tZW50Rm9ybShmYWxzZSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHNldFN1YkNvbW1lbnRGb3JtKChwcmV2KSA9PiAhcHJldik7XHJcbiAgICB9LFxyXG4gICAgW2NvbW1lbnQuU3ViQ29tbWVudHMsIG1vcmVTdWJDb21tZW50cywgc2V0TW9yZVN1YkNvbW1lbnRzLCBzdWJDb21tZW50Rm9ybV1cclxuICApO1xyXG5cclxuICBjb25zdCBoYW5kbGVJbWdFcnJvciA9IChlOiBSZWFjdC5TeW50aGV0aWNFdmVudCkgPT4ge1xyXG4gICAgKGUudGFyZ2V0IGFzIEhUTUxJbWFnZUVsZW1lbnQpLnNyYyA9IFwiL2ltYWdlcy9ibG9nL2RlZmF1bHQtdXNlci5wbmdcIjtcclxuICB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPD5cclxuICAgICAge2NvbW1lbnQuVXNlciAmJiAoXHJcbiAgICAgICAgPENvbW1lbnRXcmFwcGVyPlxyXG4gICAgICAgICAgPE1haW5Db250ZW50V3JhcHBlciBvbkNsaWNrPXtvbkNsaWNrQ29tbWVudH0+XHJcbiAgICAgICAgICAgIDxDb21tZW50Q29udGVudFxyXG4gICAgICAgICAgICAgIGNvbW1lbnQ9e2NvbW1lbnR9XHJcbiAgICAgICAgICAgICAgZWRpdFRleHQ9e2VkaXRUZXh0fVxyXG4gICAgICAgICAgICAgIGVkaXRGb3JtPXtlZGl0Rm9ybX1cclxuICAgICAgICAgICAgICBvbkNoYW5nZUVkaXRUZXh0PXtvbkNoYW5nZUVkaXRUZXh0fVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8Q29tbWVudE1lbnVcclxuICAgICAgICAgICAgICB1c2VyPXt1c2VyfVxyXG4gICAgICAgICAgICAgIENvbW1lbnRJZD17Q29tbWVudElkfVxyXG4gICAgICAgICAgICAgIGNvbW1lbnQ9e2NvbW1lbnR9XHJcbiAgICAgICAgICAgICAgZWRpdFRleHQ9e2VkaXRUZXh0fVxyXG4gICAgICAgICAgICAgIGVkaXRGb3JtPXtlZGl0Rm9ybX1cclxuICAgICAgICAgICAgICBzZXRFZGl0Rm9ybT17c2V0RWRpdEZvcm19XHJcbiAgICAgICAgICAgICAgc2V0UmVtb3ZlTW9kYWw9e3NldFJlbW92ZU1vZGFsfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgPC9NYWluQ29udGVudFdyYXBwZXI+XHJcbiAgICAgICAgICA8ZGl2IGNzcz17RGVsZXRlQ29tbWVudChyZW1vdmVNb2RhbCl9IGNsYXNzTmFtZT1cImJsb2dfY29tbWVudF9kZWxldGVNb2RhbFwiPlxyXG4gICAgICAgICAgICA8aDI+V291bGQgeW91IHJlYWxseSBsaWtlIHRvIGRlbGV0ZT8g8J+YojwvaDI+XHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgPGEgb25DbGljaz17b25DbGlja1JlbW92ZX0gY2xhc3NOYW1lPVwiY29uZmlybUJ0blwiPlxyXG4gICAgICAgICAgICAgICAgWUVTXHJcbiAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgIDxhIG9uQ2xpY2s9eygpID0+IHNldFJlbW92ZU1vZGFsKGZhbHNlKX0gY2xhc3NOYW1lPVwiY29uZmlybUJ0blwiPlxyXG4gICAgICAgICAgICAgICAgTk9cclxuICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICB7c3ViQ29tbWVudEZvcm0gJiYgPFN1YkNvbW1lbnRGb3JtIENvbW1lbnRJZD17Q29tbWVudElkfSAvPn1cclxuICAgICAgICAgIDxTdWJDb21tZW50UHJldmlld1xyXG4gICAgICAgICAgICBvbkNsaWNrTW9yZVN1YkNvbW1lbnRzPXtvbkNsaWNrTW9yZVN1YkNvbW1lbnRzfVxyXG4gICAgICAgICAgICBtb3JlU3ViQ29tbWVudHM9e21vcmVTdWJDb21tZW50c31cclxuICAgICAgICAgICAgY29tbWVudD17Y29tbWVudH1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgPC9Db21tZW50V3JhcHBlcj5cclxuICAgICAgKX1cclxuICAgIDwvPlxyXG4gICk7XHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgbWVtbyhDb21tZW50cyk7XHJcbiJdfQ== */\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n});\n\nconst Comments = /*#__PURE__*/memo(({\n  comment\n}) => {\n  const {\n    user\n  } = useSelector(state => state.user);\n  const dispatch = useDispatch();\n  const {\n    0: removeModal,\n    1: setRemoveModal\n  } = useState(false);\n  const {\n    0: subCommentForm,\n    1: setSubCommentForm\n  } = useState(false);\n  const [moreSubComments, onClickMoreSubComments, setMoreSubComments] = useToggle(false);\n  const {\n    0: editForm,\n    1: setEditForm\n  } = useState(false);\n  const [editText, onChangeEditText] = useInput(comment.content);\n  const CommentId = comment === null || comment === void 0 ? void 0 : comment.id;\n  const onClickRemove = useCallback(() => {\n    if (!user) {\n      return;\n    }\n\n    if (user.id !== comment.UserId) {\n      message.error(\"you can not delete another person comment!\");\n      return;\n    }\n\n    dispatch({\n      type: REMOVE_COMMENT_REQUEST,\n      data: CommentId\n    });\n    message.success(\"Completely Deleted Comment\");\n    setRemoveModal(false);\n  }, [CommentId, comment.UserId, dispatch, user]);\n  const onClickComment = useCallback(e => {\n    if (e.target.className) {\n      return;\n    }\n\n    if (comment.SubComments && comment.SubComments.length >= 3) {\n      setMoreSubComments(prev => !prev);\n    }\n\n    if (moreSubComments && !subCommentForm) {\n      setMoreSubComments(true);\n      setSubCommentForm(true);\n      return;\n    }\n\n    if (!moreSubComments && subCommentForm) {\n      setMoreSubComments(false);\n      setSubCommentForm(false);\n      return;\n    }\n\n    setSubCommentForm(prev => !prev);\n  }, [comment.SubComments, moreSubComments, setMoreSubComments, subCommentForm]);\n\n  const handleImgError = e => {\n    e.target.src = \"/images/blog/default-user.png\";\n  };\n\n  return ___EmotionJSX(React.Fragment, null, comment.User && ___EmotionJSX(CommentWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, ___EmotionJSX(MainContentWrapper, {\n    onClick: onClickComment,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, ___EmotionJSX(CommentContent, {\n    comment: comment,\n    editText: editText,\n    editForm: editForm,\n    onChangeEditText: onChangeEditText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }), ___EmotionJSX(CommentMenu, {\n    user: user,\n    CommentId: CommentId,\n    comment: comment,\n    editText: editText,\n    editForm: editForm,\n    setEditForm: setEditForm,\n    setRemoveModal: setRemoveModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  })), ___EmotionJSX(\"div\", {\n    css: DeleteComment(removeModal),\n    className: \"blog_comment_deleteModal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, ___EmotionJSX(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, \"Would you really like to delete? \\uD83D\\uDE22\"), ___EmotionJSX(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }, ___EmotionJSX(\"a\", {\n    onClick: onClickRemove,\n    className: \"confirmBtn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 15\n    }\n  }, \"YES\"), ___EmotionJSX(\"a\", {\n    onClick: () => setRemoveModal(false),\n    className: \"confirmBtn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 15\n    }\n  }, \"NO\"))), subCommentForm && ___EmotionJSX(SubCommentForm, {\n    CommentId: CommentId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 30\n    }\n  }), ___EmotionJSX(SubCommentPreview, {\n    onClickMoreSubComments: onClickMoreSubComments,\n    moreSubComments: moreSubComments,\n    comment: comment,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 11\n    }\n  })));\n});\nexport default /*#__PURE__*/memo(Comments);","map":{"version":3,"sources":["C:/Users/Noah/Desktop/Project/Noahworld/client/components/Blog/Comments/Comments.tsx"],"names":["message","React","memo","useCallback","useState","useDispatch","useSelector","dayjs","relativeTime","SubCommentForm","useInput","useToggle","REMOVE_COMMENT_REQUEST","CommentMenu","SubCommentPreview","DeleteComment","CommentContent","locale","extend","CommentWrapper","MainContentWrapper","Comments","comment","user","state","dispatch","removeModal","setRemoveModal","subCommentForm","setSubCommentForm","moreSubComments","onClickMoreSubComments","setMoreSubComments","editForm","setEditForm","editText","onChangeEditText","content","CommentId","id","onClickRemove","UserId","error","type","data","success","onClickComment","e","target","className","SubComments","length","prev","handleImgError","src","User"],"mappings":";;;;;AAAA;AAEA,SAAgBA,OAAhB,QAA+B,MAA/B;AACA,OAAOC,KAAP,IAAoBC,IAApB,EAA0BC,WAA1B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AAEA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,SAASC,sBAAT,QAAuC,yBAAvC;AAEA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;AACA,SAASC,aAAT,QAA8B,yBAA9B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;;AACAT,KAAK,CAACU,MAAN,CAAa,KAAb;AACAV,KAAK,CAACW,MAAN,CAAaV,YAAb;;AAEA,MAAMW,cAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAApB;;AAOA,MAAMC,kBAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAxB;;AAqBA,MAAMC,QAA0B,gBAAGnB,IAAI,CAAC,CAAC;AAAEoB,EAAAA;AAAF,CAAD,KAAiB;AACvD,QAAM;AAAEC,IAAAA;AAAF,MAAWjB,WAAW,CAAEkB,KAAD,IAAsBA,KAAK,CAACD,IAA7B,CAA5B;AACA,QAAME,QAAQ,GAAGpB,WAAW,EAA5B;AACA,QAAM;AAAA,OAACqB,WAAD;AAAA,OAAcC;AAAd,MAAgCvB,QAAQ,CAAC,KAAD,CAA9C;AACA,QAAM;AAAA,OAACwB,cAAD;AAAA,OAAiBC;AAAjB,MAAsCzB,QAAQ,CAAC,KAAD,CAApD;AACA,QAAM,CAAC0B,eAAD,EAAkBC,sBAAlB,EAA0CC,kBAA1C,IAAgErB,SAAS,CAAC,KAAD,CAA/E;AACA,QAAM;AAAA,OAACsB,QAAD;AAAA,OAAWC;AAAX,MAA0B9B,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAAC+B,QAAD,EAAWC,gBAAX,IAA+B1B,QAAQ,CAACY,OAAO,CAACe,OAAT,CAA7C;AACA,QAAMC,SAAS,GAAGhB,OAAH,aAAGA,OAAH,uBAAGA,OAAO,CAAEiB,EAA3B;AAEA,QAAMC,aAAa,GAAGrC,WAAW,CAAC,MAAM;AACtC,QAAI,CAACoB,IAAL,EAAW;AACT;AACD;;AACD,QAAIA,IAAI,CAACgB,EAAL,KAAYjB,OAAO,CAACmB,MAAxB,EAAgC;AAC9BzC,MAAAA,OAAO,CAAC0C,KAAR,CAAc,4CAAd;AACA;AACD;;AACDjB,IAAAA,QAAQ,CAAC;AACPkB,MAAAA,IAAI,EAAE/B,sBADC;AAEPgC,MAAAA,IAAI,EAAEN;AAFC,KAAD,CAAR;AAIAtC,IAAAA,OAAO,CAAC6C,OAAR,CAAgB,4BAAhB;AACAlB,IAAAA,cAAc,CAAC,KAAD,CAAd;AACD,GAdgC,EAc9B,CAACW,SAAD,EAAYhB,OAAO,CAACmB,MAApB,EAA4BhB,QAA5B,EAAsCF,IAAtC,CAd8B,CAAjC;AAgBA,QAAMuB,cAAc,GAAG3C,WAAW,CAC/B4C,CAAD,IAAO;AACL,QAAIA,CAAC,CAACC,MAAF,CAASC,SAAb,EAAwB;AACtB;AACD;;AACD,QAAI3B,OAAO,CAAC4B,WAAR,IAAuB5B,OAAO,CAAC4B,WAAR,CAAoBC,MAApB,IAA8B,CAAzD,EAA4D;AAC1DnB,MAAAA,kBAAkB,CAAEoB,IAAD,IAAU,CAACA,IAAZ,CAAlB;AACD;;AACD,QAAItB,eAAe,IAAI,CAACF,cAAxB,EAAwC;AACtCI,MAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACAH,MAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACA;AACD;;AACD,QAAI,CAACC,eAAD,IAAoBF,cAAxB,EAAwC;AACtCI,MAAAA,kBAAkB,CAAC,KAAD,CAAlB;AACAH,MAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACA;AACD;;AACDA,IAAAA,iBAAiB,CAAEuB,IAAD,IAAU,CAACA,IAAZ,CAAjB;AACD,GAnB+B,EAoBhC,CAAC9B,OAAO,CAAC4B,WAAT,EAAsBpB,eAAtB,EAAuCE,kBAAvC,EAA2DJ,cAA3D,CApBgC,CAAlC;;AAuBA,QAAMyB,cAAc,GAAIN,CAAD,IAA6B;AACjDA,IAAAA,CAAC,CAACC,MAAH,CAA+BM,GAA/B,GAAqC,+BAArC;AACD,GAFD;;AAIA,SACE,oCACGhC,OAAO,CAACiC,IAAR,IACC,cAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,cAAC,kBAAD;AAAoB,IAAA,OAAO,EAAET,cAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,cAAC,cAAD;AACE,IAAA,OAAO,EAAExB,OADX;AAEE,IAAA,QAAQ,EAAEa,QAFZ;AAGE,IAAA,QAAQ,EAAEF,QAHZ;AAIE,IAAA,gBAAgB,EAAEG,gBAJpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAOE,cAAC,WAAD;AACE,IAAA,IAAI,EAAEb,IADR;AAEE,IAAA,SAAS,EAAEe,SAFb;AAGE,IAAA,OAAO,EAAEhB,OAHX;AAIE,IAAA,QAAQ,EAAEa,QAJZ;AAKE,IAAA,QAAQ,EAAEF,QALZ;AAME,IAAA,WAAW,EAAEC,WANf;AAOE,IAAA,cAAc,EAAEP,cAPlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CADF,EAkBE;AAAK,IAAA,GAAG,EAAEZ,aAAa,CAACW,WAAD,CAAvB;AAAsC,IAAA,SAAS,EAAC,0BAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qDADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,OAAO,EAAEc,aAAZ;AAA2B,IAAA,SAAS,EAAC,YAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADF,EAIE;AAAG,IAAA,OAAO,EAAE,MAAMb,cAAc,CAAC,KAAD,CAAhC;AAAyC,IAAA,SAAS,EAAC,YAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAJF,CAFF,CAlBF,EA6BGC,cAAc,IAAI,cAAC,cAAD;AAAgB,IAAA,SAAS,EAAEU,SAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA7BrB,EA8BE,cAAC,iBAAD;AACE,IAAA,sBAAsB,EAAEP,sBAD1B;AAEE,IAAA,eAAe,EAAED,eAFnB;AAGE,IAAA,OAAO,EAAER,OAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA9BF,CAFJ,CADF;AA0CD,CA/FsC,CAAvC;AAiGA,4BAAepB,IAAI,CAACmB,QAAD,CAAnB","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\r\n\r\nimport { Input, message } from \"antd\";\r\nimport React, { FC, memo, useCallback, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport styled from \"@emotion/styled\";\r\nimport dayjs from \"dayjs\";\r\nimport relativeTime from \"dayjs/plugin/relativeTime\";\r\nimport SubCommentForm from \"./SubCommentForm\";\r\nimport { RootState } from \"../../../@reducers\";\r\nimport useInput from \"../../../util/useInput\";\r\nimport useToggle from \"../../../util/useToggle\";\r\nimport { REMOVE_COMMENT_REQUEST } from \"../../../@reducers/post\";\r\nimport { CommentProps } from \"../../../types\";\r\nimport CommentMenu from \"./CommentMenu\";\r\nimport SubCommentPreview from \"./SubCommentPreview\";\r\nimport { DeleteComment } from \"../../../styles/emotion\";\r\nimport CommentContent from \"./CommentContent\";\r\ndayjs.locale(\"kor\");\r\ndayjs.extend(relativeTime);\r\n\r\nconst CommentWrapper = styled.div`\r\n  width: 100%;\r\n  position: relative;\r\n  transition: all 0.2s;\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.07);\r\n`;\r\n\r\nconst MainContentWrapper = styled.div`\r\n  padding: 1rem 0.5rem 0.5rem 2rem;\r\n  cursor: pointer;\r\n  &:hover {\r\n    background-color: rgba(0, 0, 0, 0.05);\r\n  }\r\n  .edit_form {\r\n    button {\r\n      width: 20%;\r\n    }\r\n  }\r\n  @media only screen and (max-width: 576px) {\r\n    padding: 1rem 0.5rem 0.5rem 0.5rem;\r\n    .edit_form {\r\n      button {\r\n        width: 50%;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst Comments: FC<CommentProps> = memo(({ comment }) => {\r\n  const { user } = useSelector((state: RootState) => state.user);\r\n  const dispatch = useDispatch();\r\n  const [removeModal, setRemoveModal] = useState(false);\r\n  const [subCommentForm, setSubCommentForm] = useState(false);\r\n  const [moreSubComments, onClickMoreSubComments, setMoreSubComments] = useToggle(false);\r\n  const [editForm, setEditForm] = useState(false);\r\n  const [editText, onChangeEditText] = useInput(comment.content);\r\n  const CommentId = comment?.id;\r\n\r\n  const onClickRemove = useCallback(() => {\r\n    if (!user) {\r\n      return;\r\n    }\r\n    if (user.id !== comment.UserId) {\r\n      message.error(\"you can not delete another person comment!\");\r\n      return;\r\n    }\r\n    dispatch({\r\n      type: REMOVE_COMMENT_REQUEST,\r\n      data: CommentId,\r\n    });\r\n    message.success(\"Completely Deleted Comment\");\r\n    setRemoveModal(false);\r\n  }, [CommentId, comment.UserId, dispatch, user]);\r\n\r\n  const onClickComment = useCallback(\r\n    (e) => {\r\n      if (e.target.className) {\r\n        return;\r\n      }\r\n      if (comment.SubComments && comment.SubComments.length >= 3) {\r\n        setMoreSubComments((prev) => !prev);\r\n      }\r\n      if (moreSubComments && !subCommentForm) {\r\n        setMoreSubComments(true);\r\n        setSubCommentForm(true);\r\n        return;\r\n      }\r\n      if (!moreSubComments && subCommentForm) {\r\n        setMoreSubComments(false);\r\n        setSubCommentForm(false);\r\n        return;\r\n      }\r\n      setSubCommentForm((prev) => !prev);\r\n    },\r\n    [comment.SubComments, moreSubComments, setMoreSubComments, subCommentForm]\r\n  );\r\n\r\n  const handleImgError = (e: React.SyntheticEvent) => {\r\n    (e.target as HTMLImageElement).src = \"/images/blog/default-user.png\";\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {comment.User && (\r\n        <CommentWrapper>\r\n          <MainContentWrapper onClick={onClickComment}>\r\n            <CommentContent\r\n              comment={comment}\r\n              editText={editText}\r\n              editForm={editForm}\r\n              onChangeEditText={onChangeEditText}\r\n            />\r\n            <CommentMenu\r\n              user={user}\r\n              CommentId={CommentId}\r\n              comment={comment}\r\n              editText={editText}\r\n              editForm={editForm}\r\n              setEditForm={setEditForm}\r\n              setRemoveModal={setRemoveModal}\r\n            />\r\n          </MainContentWrapper>\r\n          <div css={DeleteComment(removeModal)} className=\"blog_comment_deleteModal\">\r\n            <h2>Would you really like to delete? 😢</h2>\r\n            <div>\r\n              <a onClick={onClickRemove} className=\"confirmBtn\">\r\n                YES\r\n              </a>\r\n              <a onClick={() => setRemoveModal(false)} className=\"confirmBtn\">\r\n                NO\r\n              </a>\r\n            </div>\r\n          </div>\r\n          {subCommentForm && <SubCommentForm CommentId={CommentId} />}\r\n          <SubCommentPreview\r\n            onClickMoreSubComments={onClickMoreSubComments}\r\n            moreSubComments={moreSubComments}\r\n            comment={comment}\r\n          />\r\n        </CommentWrapper>\r\n      )}\r\n    </>\r\n  );\r\n});\r\n\r\nexport default memo(Comments);\r\n"]},"metadata":{},"sourceType":"module"}