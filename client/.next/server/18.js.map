{"version":3,"sources":["webpack:///./styles/emotion.ts","webpack:///./node_modules/next/link.js","webpack:///../../client/link.tsx","webpack:///./util/useToggle.ts","webpack:///./components/Blog/Comments/SubCommentForm.tsx","webpack:///./components/Blog/Comments/CommentMenu.tsx","webpack:///./components/Blog/Comments/CommentContent.tsx","webpack:///./components/Blog/Comments/SubComments.tsx","webpack:///./components/Blog/Comments/SubCommentPreview.tsx","webpack:///./components/Blog/Comments/Comments.tsx","webpack:///./components/Blog/Comments/CommentForm.tsx","webpack:///../../client/use-intersection.tsx","webpack:///./util/useInput.ts"],"names":["marginCSS","top","right","bottom","left","css","paddingCSS","noSearchPostCSS","SM_Header_Input","onSearch","SM_Header_Menu","onMenu","SM_Header_SeachForm","onSlide","SM_Header_Title","onTitle","TitleProfile","NoPostProfile","ProfilePointTitle","BLUE_COLOR","DeleteComment","removeModal","prefetched","router","err","curLocale","options","href","event","target","e","nodeName","isModifiedEvent","scroll","as","replace","p","props","pathname","React","resolvedAs","children","child","Children","childRef","rootMargin","setRef","el","setIntersectionRef","shouldPrefetch","isVisible","isPrefetched","prefetch","locale","childProps","ref","onClick","linkClicked","priority","localeDomain","Link","useToggle","initialValue","Value","setValue","useState","handler","useCallback","prev","CommentFormWrapper","SubCommentForm","CommentId","user","useSelector","state","post","dispatch","useDispatch","content","onChangeContent","setContent","useInput","onClickAddComment","message","error","type","ADD_SUB_COMMENT_REQUEST","data","PostId","id","UserId","useEffect","handleImgError","src","icon","width","float","LikeComment","RED_COLOR","CommentMenuList","CommentMenu","memo","comment","editText","setEditForm","setRemoveModal","editForm","SubCommentId","onClickEditComment","EDIT_SUB_COMMENT_REQUEST","success","EDIT_COMMENT_REQUEST","onClickCommentLike","LIKE_COMMENT_REQUEST","onClickCommentUnlike","UNLIKE_COMMENT_REQUEST","commentLiked","Comments","find","v","CommentLikers","marginTop","faTrashAlt","color","marginRight","length","CommentContent","onChangeEditText","User","name","dayjs","to","createdAt","margin","extend","relativeTime","CommentWrapper","SpeechBubble","SubComments","subComment","onClickRemove","REMOVE_SUB_COMMENT_REQUEST","MoreComments","SubCommentPreview","onClickMoreSubComments","moreSubComments","map","i","marginLeft","fontSize","MainContentWrapper","subCommentForm","setSubCommentForm","setMoreSubComments","REMOVE_COMMENT_REQUEST","onClickComment","className","LoginLink","LoginSuggestModal","loginModal","NoComment","CommentForm","setLoginModal","ADD_COMMENT_REQUEST","postId","userId","onClickModal","commentComponent","padding","opacity","hasIntersectionObserver","isDisabled","disabled","unobserve","observe","setVisible","idleCallback","createObserver","elements","observer","observers","instance","entries","entry","callback","value"],"mappings":"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","file":"18.js","sourcesContent":["import { css } from \"@emotion/react\";\r\nimport { BLUE_COLOR } from \"../config\";\r\n\r\nexport const marginCSS = (top, right, bottom, left) => css`\r\n  margin: ${top} ${right} ${bottom} ${left};\r\n`;\r\n\r\nexport const paddingCSS = (top, right, bottom, left) => css`\r\n  padding: ${top} ${right} ${bottom} ${left};\r\n`;\r\n\r\nexport const noSearchPostCSS = css`\r\n  width: 100%;\r\n  padding: 1rem 0;\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.07);\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  img {\r\n    width: 80px;\r\n    opacity: 0.3;\r\n  }\r\n  h3 {\r\n    text-align: center;\r\n  }\r\n`;\r\n\r\nexport const SM_Header_Input = (onSearch: Boolean) => css`\r\n  ${onSearch\r\n    ? \"transform: translateY(0); transition: all 0.3s; margin-bottom: 1rem\"\r\n    : \"transform: translateY(-200%); transition: all 0.3s; position: absolute; left: 0 \"}\r\n`;\r\n\r\nexport const SM_Header_Menu = (onMenu: Boolean) => css`\r\n  ${onMenu\r\n    ? \"background-color: white; border: 1px solid rgba(0, 0, 0, 0.1); border-bottom: none; overflow: inherit;\"\r\n    : \"border-bottom: 1px solid rgba(0, 0, 0, 0.1); border-top: 1px solid rgba(0, 0, 0, 0.1); overflow: hidden;\"}\r\n`;\r\n\r\nexport const SM_Header_SeachForm = (onSlide: Boolean) => css`\r\n  ${onSlide ? \"display: block; overflow: hidden\" : \"display:none\"}\r\n`;\r\n\r\nexport const SM_Header_Title = (onTitle: Boolean) => css`\r\n  ${onTitle\r\n    ? \"transform: translateY(-100%); transition: all 0.5s; width: 70%;\"\r\n    : \"transform: translateY(0); transition: all 0.5s;\"}\r\n`;\r\n\r\nexport const TitleProfile = css`\r\n  white-space: nowrap;\r\n  display: inline-block;\r\n  margin-left: 0.5rem;\r\n  width: 100%;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n`;\r\n\r\nexport const NoPostProfile = css`\r\n  display: flex;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  opacity: 0.3;\r\n  img {\r\n    width: 100px;\r\n  }\r\n`;\r\n\r\nexport const ProfilePointTitle = css`\r\n  color: ${BLUE_COLOR};\r\n  margin-left: 0.3rem;\r\n`;\r\n\r\nexport const DeleteComment = (removeModal: boolean) => css`\r\n  visibility: ${removeModal ? \"initial\" : \"hidden\"};\r\n  animation: ${removeModal ? \"0.5s fadeIn\" : \"none\"};\r\n  h2{\r\n    text-align: center; \r\n    color: white;\r\n  }\r\n  div{\r\n    display: flex; \r\n    justify-content: center;\r\n  }\r\n}\r\n`;\r\n","module.exports = require('./dist/client/link')\n","import React, { Children, useEffect } from 'react'\nimport { UrlObject } from 'url'\nimport {\n  addBasePath,\n  addLocale,\n  getDomainLocale,\n  isLocalURL,\n  NextRouter,\n  PrefetchOptions,\n  resolveHref,\n} from '../next-server/lib/router/router'\nimport { useRouter } from './router'\nimport { useIntersection } from './use-intersection'\n\ntype Url = string | UrlObject\ntype RequiredKeys<T> = {\n  [K in keyof T]-?: {} extends Pick<T, K> ? never : K\n}[keyof T]\ntype OptionalKeys<T> = {\n  [K in keyof T]-?: {} extends Pick<T, K> ? K : never\n}[keyof T]\n\nexport type LinkProps = {\n  href: Url\n  as?: Url\n  replace?: boolean\n  scroll?: boolean\n  shallow?: boolean\n  passHref?: boolean\n  prefetch?: boolean\n  locale?: string | false\n}\ntype LinkPropsRequired = RequiredKeys<LinkProps>\ntype LinkPropsOptional = OptionalKeys<LinkProps>\n\nconst prefetched: { [cacheKey: string]: boolean } = {}\n\nfunction prefetch(\n  router: NextRouter,\n  href: string,\n  as: string,\n  options?: PrefetchOptions\n): void {\n  if (typeof window === 'undefined' || !router) return\n  if (!isLocalURL(href)) return\n  // Prefetch the JSON page if asked (only in the client)\n  // We need to handle a prefetch error here since we may be\n  // loading with priority which can reject but we don't\n  // want to force navigation since this is only a prefetch\n  router.prefetch(href, as, options).catch((err) => {\n    if (process.env.NODE_ENV !== 'production') {\n      // rethrow to show invalid URL errors\n      throw err\n    }\n  })\n  const curLocale =\n    options && typeof options.locale !== 'undefined'\n      ? options.locale\n      : router && router.locale\n\n  // Join on an invalid URI character\n  prefetched[href + '%' + as + (curLocale ? '%' + curLocale : '')] = true\n}\n\nfunction isModifiedEvent(event: React.MouseEvent): boolean {\n  const { target } = event.currentTarget as HTMLAnchorElement\n  return (\n    (target && target !== '_self') ||\n    event.metaKey ||\n    event.ctrlKey ||\n    event.shiftKey ||\n    event.altKey || // triggers resource download\n    (event.nativeEvent && event.nativeEvent.which === 2)\n  )\n}\n\nfunction linkClicked(\n  e: React.MouseEvent,\n  router: NextRouter,\n  href: string,\n  as: string,\n  replace?: boolean,\n  shallow?: boolean,\n  scroll?: boolean,\n  locale?: string | false\n): void {\n  const { nodeName } = e.currentTarget\n\n  if (nodeName === 'A' && (isModifiedEvent(e) || !isLocalURL(href))) {\n    // ignore click for browser’s default behavior\n    return\n  }\n\n  e.preventDefault()\n\n  //  avoid scroll for urls with anchor refs\n  if (scroll == null) {\n    scroll = as.indexOf('#') < 0\n  }\n\n  // replace state instead of push if prop is present\n  router[replace ? 'replace' : 'push'](href, as, {\n    shallow,\n    locale,\n    scroll,\n  })\n}\n\nfunction Link(props: React.PropsWithChildren<LinkProps>) {\n  if (process.env.NODE_ENV !== 'production') {\n    function createPropError(args: {\n      key: string\n      expected: string\n      actual: string\n    }) {\n      return new Error(\n        `Failed prop type: The prop \\`${args.key}\\` expects a ${args.expected} in \\`<Link>\\`, but got \\`${args.actual}\\` instead.` +\n          (typeof window !== 'undefined'\n            ? \"\\nOpen your browser's console to view the Component stack trace.\"\n            : '')\n      )\n    }\n\n    // TypeScript trick for type-guarding:\n    const requiredPropsGuard: Record<LinkPropsRequired, true> = {\n      href: true,\n    } as const\n    const requiredProps: LinkPropsRequired[] = Object.keys(\n      requiredPropsGuard\n    ) as LinkPropsRequired[]\n    requiredProps.forEach((key: LinkPropsRequired) => {\n      if (key === 'href') {\n        if (\n          props[key] == null ||\n          (typeof props[key] !== 'string' && typeof props[key] !== 'object')\n        ) {\n          throw createPropError({\n            key,\n            expected: '`string` or `object`',\n            actual: props[key] === null ? 'null' : typeof props[key],\n          })\n        }\n      } else {\n        // TypeScript trick for type-guarding:\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const _: never = key\n      }\n    })\n\n    // TypeScript trick for type-guarding:\n    const optionalPropsGuard: Record<LinkPropsOptional, true> = {\n      as: true,\n      replace: true,\n      scroll: true,\n      shallow: true,\n      passHref: true,\n      prefetch: true,\n      locale: true,\n    } as const\n    const optionalProps: LinkPropsOptional[] = Object.keys(\n      optionalPropsGuard\n    ) as LinkPropsOptional[]\n    optionalProps.forEach((key: LinkPropsOptional) => {\n      const valType = typeof props[key]\n\n      if (key === 'as') {\n        if (props[key] && valType !== 'string' && valType !== 'object') {\n          throw createPropError({\n            key,\n            expected: '`string` or `object`',\n            actual: valType,\n          })\n        }\n      } else if (key === 'locale') {\n        if (props[key] && valType !== 'string') {\n          throw createPropError({\n            key,\n            expected: '`string`',\n            actual: valType,\n          })\n        }\n      } else if (\n        key === 'replace' ||\n        key === 'scroll' ||\n        key === 'shallow' ||\n        key === 'passHref' ||\n        key === 'prefetch'\n      ) {\n        if (props[key] != null && valType !== 'boolean') {\n          throw createPropError({\n            key,\n            expected: '`boolean`',\n            actual: valType,\n          })\n        }\n      } else {\n        // TypeScript trick for type-guarding:\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const _: never = key\n      }\n    })\n\n    // This hook is in a conditional but that is ok because `process.env.NODE_ENV` never changes\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const hasWarned = React.useRef(false)\n    if (props.prefetch && !hasWarned.current) {\n      hasWarned.current = true\n      console.warn(\n        'Next.js auto-prefetches automatically based on viewport. The prefetch attribute is no longer needed. More: https://nextjs.org/docs/messages/prefetch-true-deprecated'\n      )\n    }\n  }\n  const p = props.prefetch !== false\n\n  const router = useRouter()\n  const pathname = (router && router.asPath) || '/'\n\n  const { href, as } = React.useMemo(() => {\n    const [resolvedHref, resolvedAs] = resolveHref(pathname, props.href, true)\n    return {\n      href: resolvedHref,\n      as: props.as\n        ? resolveHref(pathname, props.as)\n        : resolvedAs || resolvedHref,\n    }\n  }, [pathname, props.href, props.as])\n\n  let { children, replace, shallow, scroll, locale } = props\n\n  // Deprecated. Warning shown by propType check. If the children provided is a string (<Link>example</Link>) we wrap it in an <a> tag\n  if (typeof children === 'string') {\n    children = <a>{children}</a>\n  }\n\n  // This will return the first child, if multiple are provided it will throw an error\n  const child: any = Children.only(children)\n  const childRef: any = child && typeof child === 'object' && child.ref\n\n  const [setIntersectionRef, isVisible] = useIntersection({\n    rootMargin: '200px',\n  })\n  const setRef = React.useCallback(\n    (el: Element) => {\n      setIntersectionRef(el)\n      if (childRef) {\n        if (typeof childRef === 'function') childRef(el)\n        else if (typeof childRef === 'object') {\n          childRef.current = el\n        }\n      }\n    },\n    [childRef, setIntersectionRef]\n  )\n  useEffect(() => {\n    const shouldPrefetch = isVisible && p && isLocalURL(href)\n    const curLocale =\n      typeof locale !== 'undefined' ? locale : router && router.locale\n    const isPrefetched =\n      prefetched[href + '%' + as + (curLocale ? '%' + curLocale : '')]\n    if (shouldPrefetch && !isPrefetched) {\n      prefetch(router, href, as, {\n        locale: curLocale,\n      })\n    }\n  }, [as, href, isVisible, locale, p, router])\n\n  const childProps: {\n    onMouseEnter?: React.MouseEventHandler\n    onClick: React.MouseEventHandler\n    href?: string\n    ref?: any\n  } = {\n    ref: setRef,\n    onClick: (e: React.MouseEvent) => {\n      if (child.props && typeof child.props.onClick === 'function') {\n        child.props.onClick(e)\n      }\n      if (!e.defaultPrevented) {\n        linkClicked(e, router, href, as, replace, shallow, scroll, locale)\n      }\n    },\n  }\n\n  childProps.onMouseEnter = (e: React.MouseEvent) => {\n    if (!isLocalURL(href)) return\n    if (child.props && typeof child.props.onMouseEnter === 'function') {\n      child.props.onMouseEnter(e)\n    }\n    prefetch(router, href, as, { priority: true })\n  }\n\n  // If child is an <a> tag and doesn't have a href attribute, or if the 'passHref' property is\n  // defined, we specify the current 'href', so that repetition is not needed by the user\n  if (props.passHref || (child.type === 'a' && !('href' in child.props))) {\n    const curLocale =\n      typeof locale !== 'undefined' ? locale : router && router.locale\n\n    // we only render domain locales if we are currently on a domain locale\n    // so that locale links are still visitable in development/preview envs\n    const localeDomain =\n      router &&\n      router.isLocaleDomain &&\n      getDomainLocale(\n        as,\n        curLocale,\n        router && router.locales,\n        router && router.domainLocales\n      )\n\n    childProps.href =\n      localeDomain ||\n      addBasePath(addLocale(as, curLocale, router && router.defaultLocale))\n  }\n\n  return React.cloneElement(child, childProps)\n}\n\nexport default Link\n","import { useState, useCallback } from \"react\";\r\n\r\nexport default function useToggle(initialValue: Boolean) {\r\n  const [Value, setValue] = useState(initialValue);\r\n  const handler = useCallback(() => {\r\n    setValue((prev) => !prev);\r\n  }, []);\r\n  return [Value, handler, setValue] as const;\r\n}\r\n","/* eslint-disable jsx-a11y/anchor-has-content */\r\n/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport { message } from \"antd\";\r\nimport React, { FC, useCallback, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport styled from \"@emotion/styled\";\r\nimport { RootState } from \"../../../@reducers\";\r\nimport { ADD_SUB_COMMENT_REQUEST } from \"../../../@reducers/post\";\r\nimport { SubCommentProps } from \"../../../types\";\r\nimport useInput from \"../../../util/useInput\";\r\n\r\nconst CommentFormWrapper = styled.div`\r\n  width: 100%;\r\n  position: relative;\r\n  display: flex;\r\n  transition: all 0.3s;\r\n  padding: 1rem 0.5rem 1rem 2rem;\r\n  button {\r\n    width: 20%;\r\n  }\r\n  img {\r\n    width: 2rem;\r\n    height: 2rem;\r\n    border-radius: 50%;\r\n    margin: 0 1rem;\r\n  }\r\n  div {\r\n    width: 100%;\r\n    display: flex;\r\n  }\r\n  @media only screen and (max-width: 576px) {\r\n    padding-left: 0.5rem;\r\n    padding-right: 0;\r\n    button {\r\n      width: 30%;\r\n    }\r\n  }\r\n`;\r\n\r\nconst SubCommentForm: FC<SubCommentProps> = ({ CommentId }) => {\r\n  const { user } = useSelector((state: RootState) => state.user);\r\n  const { post } = useSelector((state: RootState) => state.post);\r\n  const dispatch = useDispatch();\r\n  const [content, onChangeContent, setContent] = useInput(\"\");\r\n  const onClickAddComment = useCallback(() => {\r\n    if (content === \"\") {\r\n      message.error(\"Please write content.\");\r\n      return;\r\n    }\r\n    if (!user) {\r\n      message.error(\"Please login first.\");\r\n      return;\r\n    }\r\n    dispatch({\r\n      type: ADD_SUB_COMMENT_REQUEST,\r\n      data: { PostId: post?.id, content, CommentId, UserId: user.id },\r\n    });\r\n    setContent(\"\");\r\n  }, [CommentId, content, dispatch, post?.id, setContent, user]);\r\n  useEffect(() => {\r\n    if (!user) {\r\n      setContent(\"You can comment when you are logged in!\");\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const handleImgError = (e: React.SyntheticEvent) => {\r\n    (e.target as HTMLImageElement).src = `/images/blog/default-user.png`;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <CommentFormWrapper className=\"blog_post_comment\">\r\n        <img\r\n          src={\r\n            user?.icon\r\n              ? user.icon.replace(/\\/thumb\\//, \"/original/\")\r\n              : \"/images/blog/default-user.png\"\r\n          }\r\n          alt=\"profile\"\r\n          onError={handleImgError}\r\n        />\r\n        <div>\r\n          <input\r\n            className=\"public_input\"\r\n            value={content}\r\n            onChange={onChangeContent}\r\n            style={{\r\n              width: \"100%\",\r\n            }}\r\n          />\r\n          <button\r\n            style={{\r\n              float: \"right\",\r\n            }}\r\n            onClick={onClickAddComment}\r\n            className=\"public_btn\"\r\n          >\r\n            REPLY\r\n          </button>\r\n        </div>\r\n      </CommentFormWrapper>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SubCommentForm;\r\n","import { EditFilled, HeartFilled, HeartOutlined } from \"@ant-design/icons\";\r\nimport {\r\n  EDIT_COMMENT_REQUEST,\r\n  EDIT_SUB_COMMENT_REQUEST,\r\n  LIKE_COMMENT_REQUEST,\r\n  UNLIKE_COMMENT_REQUEST,\r\n} from \"../../../@reducers/post\";\r\nimport { faTrashAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Button, message } from \"antd\";\r\nimport React, { FC, memo, useCallback } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport styled from \"@emotion/styled\";\r\nimport { RootState } from \"../../../@reducers\";\r\nimport { RED_COLOR } from \"../../../config\";\r\nimport { CommentsInter, UserInter } from \"../../../@reducers/@reducerTypes\";\r\n\r\ninterface CommentMenu {\r\n  user: UserInter;\r\n  CommentId: number;\r\n  SubCommentId?: number;\r\n  comment: CommentsInter;\r\n  editText: String;\r\n  editForm: boolean;\r\n  setEditForm: (e: boolean) => void;\r\n  setRemoveModal: (e: boolean) => void;\r\n}\r\n\r\nconst LikeComment = styled.a`\r\n  margin-right: 0.3rem;\r\n  &:hover {\r\n    color: ${RED_COLOR};\r\n  }\r\n`;\r\n\r\nconst CommentMenuList = styled.ul`\r\n  margin: 0.5rem 0 0 0;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n`;\r\n\r\nconst CommentMenu: FC<CommentMenu> = memo(\r\n  ({ user, CommentId, comment, editText, setEditForm, setRemoveModal, editForm, SubCommentId }) => {\r\n    const dispatch = useDispatch();\r\n    const { post } = useSelector((state: RootState) => state.post);\r\n\r\n    const onClickEditComment = useCallback(() => {\r\n      if (SubCommentId) {\r\n        dispatch({\r\n          type: EDIT_SUB_COMMENT_REQUEST,\r\n          data: { CommentId, SubCommentId, content: editText },\r\n        });\r\n        message.success(\"Successfully edited your reply 👍\");\r\n      } else {\r\n        dispatch({\r\n          type: EDIT_COMMENT_REQUEST,\r\n          data: { CommentId, content: editText },\r\n        });\r\n        message.success(\"Successfully edited your comment 👍\");\r\n      }\r\n      setEditForm(false);\r\n    }, [dispatch, CommentId, SubCommentId, editText]);\r\n\r\n    const onClickCommentLike = useCallback(() => {\r\n      if (!user) {\r\n        message.error(\"You can thumbs up when you are logged in 😿\");\r\n        return;\r\n      }\r\n      dispatch({\r\n        type: LIKE_COMMENT_REQUEST,\r\n        data: { CommentId, UserId: user.id },\r\n      });\r\n    }, [CommentId, dispatch, user]);\r\n\r\n    const onClickCommentUnlike = useCallback(() => {\r\n      if (!user) {\r\n        message.error(\"You can thumbs up when you are logged in 😿\");\r\n        return;\r\n      }\r\n      dispatch({\r\n        type: UNLIKE_COMMENT_REQUEST,\r\n        data: { CommentId, UserId: user.id },\r\n      });\r\n    }, [CommentId, dispatch, user]);\r\n\r\n    let commentLiked =\r\n      user &&\r\n      post?.Comments?.find((v) => v.id === CommentId)?.CommentLikers?.find((v) => v.id === user.id);\r\n\r\n    return (\r\n      <>\r\n        {editForm ? (\r\n          <div className=\"edit_form\">\r\n            <Button onClick={onClickEditComment} type=\"primary\" style={{ marginTop: \"0.8rem\" }}>\r\n              EDIT\r\n            </Button>\r\n            <Button onClick={() => setEditForm(false)} style={{ marginTop: \"0.8rem\" }}>\r\n              CANCEL\r\n            </Button>\r\n          </div>\r\n        ) : (\r\n          <CommentMenuList>\r\n            {user?.id === comment.UserId && (\r\n              <>\r\n                <li>\r\n                  <a>\r\n                    <EditFilled onClick={() => setEditForm(true)} />\r\n                  </a>\r\n                </li>\r\n                <li>\r\n                  <a>\r\n                    <FontAwesomeIcon onClick={() => setRemoveModal(true)} icon={faTrashAlt} />\r\n                  </a>\r\n                </li>\r\n              </>\r\n            )}\r\n            {!SubCommentId && (\r\n              <li>\r\n                {commentLiked ? (\r\n                  <HeartFilled\r\n                    style={{ color: RED_COLOR, marginRight: \"0.3rem\" }}\r\n                    onClick={onClickCommentUnlike}\r\n                  />\r\n                ) : (\r\n                  <LikeComment onClick={onClickCommentLike}>\r\n                    <HeartOutlined />\r\n                  </LikeComment>\r\n                )}\r\n                {comment.CommentLikers ? comment.CommentLikers.length : 0}\r\n              </li>\r\n            )}\r\n          </CommentMenuList>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n);\r\n\r\nexport default memo(CommentMenu);\r\n","import { Input } from \"antd\";\r\nimport dayjs from \"dayjs\";\r\nimport React, { FC, memo } from \"react\";\r\nimport { CommentsInter } from \"../../../@reducers/@reducerTypes\";\r\n\r\ninterface CommentContent {\r\n  comment: CommentsInter;\r\n  editText: string;\r\n  editForm: boolean;\r\n  onChangeEditText: () => void;\r\n}\r\n\r\nconst CommentContent: FC<CommentContent> = memo(\r\n  ({ comment, editText, editForm, onChangeEditText }) => {\r\n    const handleImgError = (e: React.SyntheticEvent) => {\r\n      (e.target as HTMLImageElement).src = `/images/blog/default-user.png`;\r\n    };\r\n\r\n    return (\r\n      <div className=\"comment_main_content\">\r\n        <div>\r\n          <img\r\n            src={\r\n              comment.User?.icon\r\n                ? comment.User.icon.replace(/\\/thumb\\//, \"/original/\")\r\n                : \"/images/blog/default-user.png\"\r\n            }\r\n            onError={handleImgError}\r\n            alt=\"profile\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <a>{comment.User.name}</a>\r\n          <span>{dayjs().to(dayjs(comment.createdAt), true)}&nbsp;ago</span>\r\n          {editForm ? (\r\n            <Input.TextArea\r\n              style={{ width: \"100%\" }}\r\n              value={editText}\r\n              defaultValue={comment.content}\r\n              onChange={onChangeEditText}\r\n            />\r\n          ) : (\r\n            <p style={{ width: \"100%\", margin: 0 }}>{comment.content}</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nexport default memo(CommentContent);\r\n","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport { message } from \"antd\";\r\nimport React, { FC, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport styled from \"@emotion/styled\";\r\nimport dayjs from \"dayjs\";\r\nimport relativeTime from \"dayjs/plugin/relativeTime\";\r\nimport { SubCommentProps } from \"../../../types\";\r\nimport { RootState } from \"../../../@reducers\";\r\nimport useInput from \"../../../util/useInput\";\r\nimport { REMOVE_SUB_COMMENT_REQUEST } from \"../../../@reducers/post\";\r\nimport { DeleteComment } from \"../../../styles/emotion\";\r\nimport CommentContent from \"./CommentContent\";\r\nimport CommentMenu from \"./CommentMenu\";\r\ndayjs.locale(\"kor\");\r\ndayjs.extend(relativeTime);\r\n\r\nconst CommentWrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  padding: 1rem 0.5rem 1.5rem 2rem;\r\n  position: relative;\r\n  transition: all 0.2s;\r\n  .edit_from {\r\n    button {\r\n      width: 20%;\r\n    }\r\n  }\r\n  @media only screen and (max-width: 576px) {\r\n    padding: 0.5rem 0 1rem 0.5rem;\r\n    .blog_comment_deleteModal {\r\n      h2 {\r\n        font-size: 1rem;\r\n      }\r\n    }\r\n    .edit_form {\r\n      button {\r\n        width: 50%;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst SpeechBubble = styled.div`\r\n  background-color: rgba(0, 0, 0, 0.05);\r\n  width: 90%;\r\n  padding: 1rem 1.5rem;\r\n  position: relative;\r\n  border-radius: 0.5rem;\r\n  transition: all 0.3s;\r\n  &:hover {\r\n    background-color: rgba(0, 0, 0, 0.1);\r\n  }\r\n  &:before {\r\n    transition: all 0.3s;\r\n    content: \"\";\r\n    position: absolute;\r\n    top: -0.5rem;\r\n    left: 1.8rem;\r\n    border-top: 1rem solid rgba(0, 0, 0, 0.05);\r\n    border-right: 1rem solid transparent;\r\n    transform: rotate(45deg);\r\n  }\r\n  @media only screen and (max-width: 576px) {\r\n    padding: 1rem;\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst SubComments: FC<SubCommentProps> = ({ subComment, CommentId }) => {\r\n  const dispatch = useDispatch();\r\n  const { user } = useSelector((state: RootState) => state.user);\r\n  const [removeModal, setRemoveModal] = useState(false);\r\n  const [editForm, setEditForm] = useState(false);\r\n  // eslint-disable-next-line no-unused-vars\r\n  const [editText, onChangeEditText] = useInput(subComment?.content);\r\n  const SubCommentId = subComment?.id;\r\n  const onClickRemove = () => {\r\n    if (!user) {\r\n      return;\r\n    }\r\n    if (user.id !== subComment?.UserId) {\r\n      message.error(\"you can not delete another person reply!\");\r\n      return;\r\n    }\r\n    message.success(\"Completely Deleted your reply\");\r\n    setRemoveModal(false);\r\n    dispatch({\r\n      type: REMOVE_SUB_COMMENT_REQUEST,\r\n      data: { CommentId, SubCommentId },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {subComment?.User && (\r\n        <CommentWrapper>\r\n          <SpeechBubble>\r\n            <CommentContent\r\n              comment={subComment}\r\n              editText={editText}\r\n              editForm={editForm}\r\n              onChangeEditText={onChangeEditText}\r\n            />\r\n            <CommentMenu\r\n              user={user}\r\n              SubCommentId={SubCommentId}\r\n              CommentId={CommentId}\r\n              comment={subComment}\r\n              editText={editText}\r\n              editForm={editForm}\r\n              setEditForm={setEditForm}\r\n              setRemoveModal={setRemoveModal}\r\n            />\r\n            <div css={DeleteComment(removeModal)} className=\"blog_comment_deleteModal\">\r\n              <h2>Would you really like to delete? 😢</h2>\r\n              <div>\r\n                <a onClick={onClickRemove} className=\"confirmBtn\" style={{ marginRight: \"2rem\" }}>\r\n                  YES\r\n                </a>\r\n                <a onClick={() => setRemoveModal(false)} className=\"confirmBtn\">\r\n                  NO\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </SpeechBubble>\r\n        </CommentWrapper>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SubComments;\r\n","import React, { FC, memo } from \"react\";\r\nimport { BLUE_COLOR } from \"../../../config\";\r\nimport styled from \"@emotion/styled\";\r\nimport { DownCircleOutlined } from \"@ant-design/icons\";\r\nimport SubComments from \"./SubComments\";\r\nimport { CommentsInter } from \"../../../@reducers/@reducerTypes\";\r\n\r\nconst MoreComments = styled.div`\r\n  padding: 1rem 0.5rem 1rem 2rem;\r\n  text-align: end;\r\n  font-size: 0.9rem;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n  &:hover {\r\n    background-color: rgba(0, 0, 0, 0.05);\r\n    color: ${BLUE_COLOR};\r\n  }\r\n`;\r\ninterface SubCommentPreview {\r\n  onClickMoreSubComments: () => void;\r\n  moreSubComments: Boolean;\r\n  comment: CommentsInter;\r\n}\r\n\r\nconst SubCommentPreview: FC<SubCommentPreview> = memo(\r\n  ({ onClickMoreSubComments, moreSubComments, comment }) => {\r\n    return (\r\n      <>\r\n        {comment?.SubComments?.length < 3 ? (\r\n          comment.SubComments?.map((subComment, i) => {\r\n            return <SubComments key={i} CommentId={comment.id} subComment={subComment} />;\r\n          })\r\n        ) : (\r\n          <>\r\n            <MoreComments onClick={onClickMoreSubComments}>\r\n              View <span style={{ margin: \"0 0.2rem\" }}>{comment.SubComments?.length}</span>\r\n              &nbsp;more replies{\" \"}\r\n              <DownCircleOutlined\r\n                style={{ marginLeft: \"0.5rem\", fontSize: \"1.1rem\" }}\r\n                rotate={moreSubComments ? 180 : 0}\r\n              />\r\n            </MoreComments>\r\n            {moreSubComments &&\r\n              comment?.SubComments?.map((subComment, i) => {\r\n                return <SubComments key={i} CommentId={comment.id} subComment={subComment} />;\r\n              })}\r\n          </>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n);\r\n\r\nexport default memo(SubCommentPreview);\r\n","/* eslint-disable jsx-a11y/anchor-is-valid */\r\n\r\nimport { Input, message } from \"antd\";\r\nimport React, { FC, memo, useCallback, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport styled from \"@emotion/styled\";\r\nimport dayjs from \"dayjs\";\r\nimport relativeTime from \"dayjs/plugin/relativeTime\";\r\nimport SubCommentForm from \"./SubCommentForm\";\r\nimport { RootState } from \"../../../@reducers\";\r\nimport useInput from \"../../../util/useInput\";\r\nimport useToggle from \"../../../util/useToggle\";\r\nimport { REMOVE_COMMENT_REQUEST } from \"../../../@reducers/post\";\r\nimport { CommentProps } from \"../../../types\";\r\nimport CommentMenu from \"./CommentMenu\";\r\nimport SubCommentPreview from \"./SubCommentPreview\";\r\nimport { DeleteComment } from \"../../../styles/emotion\";\r\nimport CommentContent from \"./CommentContent\";\r\ndayjs.locale(\"kor\");\r\ndayjs.extend(relativeTime);\r\n\r\nconst CommentWrapper = styled.div`\r\n  width: 100%;\r\n  position: relative;\r\n  transition: all 0.2s;\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.07);\r\n`;\r\n\r\nconst MainContentWrapper = styled.div`\r\n  padding: 1rem 0.5rem 0.5rem 2rem;\r\n  cursor: pointer;\r\n  &:hover {\r\n    background-color: rgba(0, 0, 0, 0.05);\r\n  }\r\n  .edit_form {\r\n    button {\r\n      width: 20%;\r\n    }\r\n  }\r\n  @media only screen and (max-width: 576px) {\r\n    padding: 1rem 0.5rem 0.5rem 0.5rem;\r\n    .edit_form {\r\n      button {\r\n        width: 50%;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst Comments: FC<CommentProps> = memo(({ comment }) => {\r\n  const { user } = useSelector((state: RootState) => state.user);\r\n  const dispatch = useDispatch();\r\n  const [removeModal, setRemoveModal] = useState(false);\r\n  const [subCommentForm, setSubCommentForm] = useState(false);\r\n  const [moreSubComments, onClickMoreSubComments, setMoreSubComments] = useToggle(false);\r\n  const [editForm, setEditForm] = useState(false);\r\n  const [editText, onChangeEditText] = useInput(comment.content);\r\n  const CommentId = comment?.id;\r\n\r\n  const onClickRemove = useCallback(() => {\r\n    if (!user) {\r\n      return;\r\n    }\r\n    if (user.id !== comment.UserId) {\r\n      message.error(\"you can not delete another person comment!\");\r\n      return;\r\n    }\r\n    dispatch({\r\n      type: REMOVE_COMMENT_REQUEST,\r\n      data: CommentId,\r\n    });\r\n    message.success(\"Completely Deleted Comment\");\r\n    setRemoveModal(false);\r\n  }, [CommentId, comment.UserId, dispatch, user]);\r\n\r\n  const onClickComment = useCallback(\r\n    (e) => {\r\n      if (e.target.className) {\r\n        return;\r\n      }\r\n      if (comment.SubComments && comment.SubComments.length >= 3) {\r\n        setMoreSubComments((prev) => !prev);\r\n      }\r\n      if (moreSubComments && !subCommentForm) {\r\n        setMoreSubComments(true);\r\n        setSubCommentForm(true);\r\n        return;\r\n      }\r\n      if (!moreSubComments && subCommentForm) {\r\n        setMoreSubComments(false);\r\n        setSubCommentForm(false);\r\n        return;\r\n      }\r\n      setSubCommentForm((prev) => !prev);\r\n    },\r\n    [comment.SubComments, moreSubComments, setMoreSubComments, subCommentForm]\r\n  );\r\n\r\n  const handleImgError = (e: React.SyntheticEvent) => {\r\n    (e.target as HTMLImageElement).src = \"/images/blog/default-user.png\";\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {comment.User && (\r\n        <CommentWrapper>\r\n          <MainContentWrapper onClick={onClickComment}>\r\n            <CommentContent\r\n              comment={comment}\r\n              editText={editText}\r\n              editForm={editForm}\r\n              onChangeEditText={onChangeEditText}\r\n            />\r\n            <CommentMenu\r\n              user={user}\r\n              CommentId={CommentId}\r\n              comment={comment}\r\n              editText={editText}\r\n              editForm={editForm}\r\n              setEditForm={setEditForm}\r\n              setRemoveModal={setRemoveModal}\r\n            />\r\n          </MainContentWrapper>\r\n          <div css={DeleteComment(removeModal)} className=\"blog_comment_deleteModal\">\r\n            <h2>Would you really like to delete? 😢</h2>\r\n            <div>\r\n              <a onClick={onClickRemove} className=\"confirmBtn\">\r\n                YES\r\n              </a>\r\n              <a onClick={() => setRemoveModal(false)} className=\"confirmBtn\">\r\n                NO\r\n              </a>\r\n            </div>\r\n          </div>\r\n          {subCommentForm && <SubCommentForm CommentId={CommentId} />}\r\n          <SubCommentPreview\r\n            onClickMoreSubComments={onClickMoreSubComments}\r\n            moreSubComments={moreSubComments}\r\n            comment={comment}\r\n          />\r\n        </CommentWrapper>\r\n      )}\r\n    </>\r\n  );\r\n});\r\n\r\nexport default memo(Comments);\r\n","/* eslint-disable jsx-a11y/anchor-has-content */\r\n/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport { message } from \"antd\";\r\nimport TextArea from \"antd/lib/input/TextArea\";\r\nimport React, { memo, useCallback, useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Link from \"next/link\";\r\nimport styled from \"@emotion/styled\";\r\nimport { RootState } from \"../../../@reducers\";\r\nimport { ADD_COMMENT_REQUEST } from \"../../../@reducers/post\";\r\nimport { BLUE_COLOR } from \"../../../config\";\r\nimport useInput from \"../../../util/useInput\";\r\nimport Comments from \"./Comments\";\r\nimport { css } from \"@emotion/react\";\r\n\r\nconst LoginLink = styled(Link)`\r\n  margin-top: 1rem;\r\n  padding: 0.5rem 1rem;\r\n  border-radius: 5px;\r\n  transition: all 0.3s;\r\n  border: 1px solid rgba(0, 0, 0, 0.2);\r\n  font-weight: bold;\r\n  &:hover {\r\n    color: white;\r\n    background-color: ${BLUE_COLOR};\r\n  }\r\n`;\r\n\r\nconst LoginSuggestModal = (loginModal: boolean) => css`\r\n  display: flex;\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  top: 0;\r\n  left: 0;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n  ${loginModal\r\n    ? \"visibility:initial; animation:0.5s fadeIn;\"\r\n    : \"visibility: hidden; animation:none;\"}\r\n  @media only screen and (max-width: 576px) {\r\n    h2 {\r\n      font-size: 0.9rem;\r\n    }\r\n  }\r\n`;\r\nconst CommentFormWrapper = styled.div`\r\n  padding: 1.5rem 0.5rem;\r\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\r\n  display: flex;\r\n  position: relative;\r\n  transition: all 0.3s;\r\n  .comment_icon_wrapper {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    h3 {\r\n      font-size: 0.9rem;\r\n      text-align: center;\r\n      margin-top: 0.8rem;\r\n    }\r\n  }\r\n  &:hover {\r\n    background-color: rgba(0, 0, 0, 0.05);\r\n  }\r\n  @media only screen and (max-width: 576px) {\r\n    padding-right: 0;\r\n  }\r\n`;\r\n\r\nconst NoComment = css`\r\n  width: 100%;\r\n  padding: 1rem 0;\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.07);\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n\r\nconst CommentForm = memo(() => {\r\n  const { user } = useSelector((state: RootState) => state.user);\r\n  const { post } = useSelector((state: RootState) => state.post);\r\n  const dispatch = useDispatch();\r\n  const [content, onChangeContent, setContent] = useInput(\"\");\r\n  const [loginModal, setLoginModal] = useState(false);\r\n  const onClickAddComment = useCallback(() => {\r\n    if (content === \"\") {\r\n      message.error(\"Please write content.\");\r\n      return;\r\n    }\r\n    if (!user) {\r\n      message.error(\"Please login first.\");\r\n      return;\r\n    }\r\n    dispatch({\r\n      type: ADD_COMMENT_REQUEST,\r\n      data: { content, postId: post?.id, userId: user.id },\r\n    });\r\n    setContent(\"\");\r\n  }, [content, dispatch, post?.id, setContent, user]);\r\n\r\n  const handleImgError = (e: React.SyntheticEvent) => {\r\n    (e.target as HTMLImageElement).src = `/images/blog/default-user.png`;\r\n  };\r\n\r\n  const onClickModal = useCallback(() => {\r\n    if (!user) {\r\n      setLoginModal(true);\r\n    }\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      setContent(\"You can comment when you are logged in!\");\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const commentComponent = useCallback(() => {\r\n    return post?.Comments?.map((v, i) => {\r\n      return <Comments key={i} comment={v} />;\r\n    });\r\n  }, [post?.Comments]);\r\n\r\n  return (\r\n    <>\r\n      <CommentFormWrapper onClick={onClickModal} className=\"blog_post_comment\" id=\"comment\">\r\n        <div className=\"comment_icon_wrapper\">\r\n          <img\r\n            className=\"comment_img\"\r\n            src={\r\n              user?.icon\r\n                ? user.icon.replace(/\\/thumb\\//, \"/original/\")\r\n                : \"/images/blog/default-user.png\"\r\n            }\r\n            alt=\"profile\"\r\n            onError={handleImgError}\r\n          />\r\n          <h3>{user ? user.name : \"Guest\"}</h3>\r\n        </div>\r\n        <div style={{ marginLeft: \"2rem\", width: \"100%\" }}>\r\n          <TextArea value={content} onChange={onChangeContent} className=\"comment_textArea\" />\r\n          <button\r\n            style={{ padding: \"0.5rem 0\" }}\r\n            onClick={onClickAddComment}\r\n            className=\"public_btn comment_btn\"\r\n          >\r\n            COMMENT\r\n          </button>\r\n        </div>\r\n        <div css={LoginSuggestModal(loginModal)}>\r\n          <h2>You can comment when you are logged in 😢</h2>\r\n          <LoginLink href=\"/login\">\r\n            <a>GO TO LOGIN PAGE</a>\r\n          </LoginLink>\r\n        </div>\r\n      </CommentFormWrapper>\r\n      {post?.Comments ? (\r\n        commentComponent()\r\n      ) : (\r\n        <div css={NoComment}>\r\n          <img\r\n            style={{ width: \"80px\", opacity: \"0.3\" }}\r\n            alt=\"noComment\"\r\n            src=\"https://icons.iconarchive.com/icons/iconsmind/outline/256/Inbox-Empty-icon.png\"\r\n          />\r\n          <h3>No Comments...</h3>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n});\r\n\r\nexport default memo(CommentForm);\r\n","import { useCallback, useEffect, useRef, useState } from 'react'\nimport {\n  requestIdleCallback,\n  cancelIdleCallback,\n} from './request-idle-callback'\n\ntype UseIntersectionObserverInit = Pick<IntersectionObserverInit, 'rootMargin'>\ntype UseIntersection = { disabled?: boolean } & UseIntersectionObserverInit\ntype ObserveCallback = (isVisible: boolean) => void\ntype Observer = {\n  id: string\n  observer: IntersectionObserver\n  elements: Map<Element, ObserveCallback>\n}\n\nconst hasIntersectionObserver = typeof IntersectionObserver !== 'undefined'\n\nexport function useIntersection<T extends Element>({\n  rootMargin,\n  disabled,\n}: UseIntersection): [(element: T | null) => void, boolean] {\n  const isDisabled: boolean = disabled || !hasIntersectionObserver\n\n  const unobserve = useRef<Function>()\n  const [visible, setVisible] = useState(false)\n\n  const setRef = useCallback(\n    (el: T | null) => {\n      if (unobserve.current) {\n        unobserve.current()\n        unobserve.current = undefined\n      }\n\n      if (isDisabled || visible) return\n\n      if (el && el.tagName) {\n        unobserve.current = observe(\n          el,\n          (isVisible) => isVisible && setVisible(isVisible),\n          { rootMargin }\n        )\n      }\n    },\n    [isDisabled, rootMargin, visible]\n  )\n\n  useEffect(() => {\n    if (!hasIntersectionObserver) {\n      if (!visible) {\n        const idleCallback = requestIdleCallback(() => setVisible(true))\n        return () => cancelIdleCallback(idleCallback)\n      }\n    }\n  }, [visible])\n\n  return [setRef, visible]\n}\n\nfunction observe(\n  element: Element,\n  callback: ObserveCallback,\n  options: UseIntersectionObserverInit\n): () => void {\n  const { id, observer, elements } = createObserver(options)\n  elements.set(element, callback)\n\n  observer.observe(element)\n  return function unobserve(): void {\n    elements.delete(element)\n    observer.unobserve(element)\n\n    // Destroy observer when there's nothing left to watch:\n    if (elements.size === 0) {\n      observer.disconnect()\n      observers.delete(id)\n    }\n  }\n}\n\nconst observers = new Map<string, Observer>()\nfunction createObserver(options: UseIntersectionObserverInit): Observer {\n  const id = options.rootMargin || ''\n  let instance = observers.get(id)\n  if (instance) {\n    return instance\n  }\n\n  const elements = new Map<Element, ObserveCallback>()\n  const observer = new IntersectionObserver((entries) => {\n    entries.forEach((entry) => {\n      const callback = elements.get(entry.target)\n      const isVisible = entry.isIntersecting || entry.intersectionRatio > 0\n      if (callback && isVisible) {\n        callback(isVisible)\n      }\n    })\n  }, options)\n\n  observers.set(\n    id,\n    (instance = {\n      id,\n      observer,\n      elements,\n    })\n  )\n  return instance\n}\n","import { useState, useCallback } from \"react\";\r\n\r\nexport default function useInput(initialValue: any) {\r\n  const [Value, setValue] = useState(initialValue);\r\n  const handler = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setValue(e.target.value);\r\n  }, []);\r\n  return [Value, handler, setValue];\r\n}\r\n"],"sourceRoot":""}